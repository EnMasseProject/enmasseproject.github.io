<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>Documentation for EnMasse</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Documentation for EnMasse</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#installation">1. Installation</a>
<ul class="sectlevel2">
<li><a href="#installing-openshift">1.1. Installing EnMasse on OpenShift</a>
<ul class="sectlevel3">
<li><a href="#prerequisites-openshift">1.1.1. Prerequisites</a></li>
<li><a href="#installing_enmasse_using_ansible">1.1.2. Installing EnMasse using Ansible</a></li>
<li><a href="#installing_enmasse_manually">1.1.3. Installing EnMasse manually</a></li>
</ul>
</li>
<li><a href="#installing-kubernetes">1.2. Installing EnMasse on Kubernetes</a>
<ul class="sectlevel3">
<li><a href="#prerequisites-kubernetes">1.2.1. Prerequisites</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#configuring_address_space_and_address_plans">2. Configuring address space and address plans</a>
<ul class="sectlevel3">
<li><a href="#address-space-plans">2.1. Address Space plans</a></li>
<li><a href="#address-plans">2.2. Address plans</a></li>
<li><a href="#resource-definitions">2.3. Resource definitions</a></li>
</ul>
</li>
<li><a href="#monitoring">3. Monitoring</a>
<ul class="sectlevel2">
<li><a href="#monitoring">3.1. Monitoring EnMasse</a>
<ul class="sectlevel3">
<li><a href="#deploying_prometheus">3.1.1. Deploying Prometheus</a></li>
<li><a href="#deploying_grafana">3.1.2. Deploying Grafana</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#managing_address_spaces_and_addresses">4. Managing address spaces and addresses</a>
<ul class="sectlevel2">
<li><a href="#address_model">4.1. Address Model</a>
<ul class="sectlevel3">
<li><a href="#address_space">4.1.1. Address Space</a></li>
<li><a href="#address">4.1.2. Address</a></li>
<li><a href="#plans_2">4.1.3. Plans</a></li>
<li><a href="#standard_address_space">4.1.4. Standard Address Space</a></li>
<li><a href="#brokered_address_space">4.1.5. Brokered Address Space</a></li>
</ul>
</li>
<li><a href="#configuring-using-cli">4.2. Configuring EnMasse using the command line</a>
<ul class="sectlevel3">
<li><a href="#creating_an_address_space">4.2.1. Creating an Address Space</a></li>
<li><a href="#creating_an_address">4.2.2. Creating an Address</a></li>
</ul>
</li>
<li><a href="#configuring-using-restapi">4.3. Configuring EnMasse using a REST API</a>
<ul class="sectlevel3">
<li><a href="#creating_an_address_space_2">4.3.1. Creating an Address Space</a></li>
<li><a href="#viewing_address_space_status">4.3.2. Viewing Address Space Status</a></li>
<li><a href="#creating_addresses">4.3.3. Creating Addresses</a></li>
<li><a href="#viewing_configured_addresses">4.3.4. Viewing Configured Addresses</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#connecting_applications_to_enmasse">5. Connecting applications to EnMasse</a>
<ul class="sectlevel2">
<li><a href="#connecting">5.1. Connecting to EnMasse</a>
<ul class="sectlevel3">
<li><a href="#client_examples">5.1.1. Client Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#quick_start_guides">Appendix A: Quick start guides</a>
<ul class="sectlevel3">
<li><a href="#enmasse-on-openshift">A.1. EnMasse on OpenShift</a></li>
<li><a href="#enmasse-on-kubernetes">A.2. EnMasse on Kubernetes</a></li>
<li><a href="#setting-up-enmasse-on-aws">A.3. Setting up EnMasse on AWS</a></li>
</ul>
</li>
<li><a href="#rest_api_reference">Appendix B: REST API Reference</a>
<ul class="sectlevel2">
<li><a href="#enmasse">B.1. EnMasse</a>
<ul class="sectlevel3">
<li><a href="#_overview">B.1.1. Overview</a></li>
<li><a href="#_paths">B.1.2. Paths</a></li>
<li><a href="#_definitions">B.1.3. Definitions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="installation">1. Installation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="installing-openshift">1.1. Installing EnMasse on OpenShift</h3>
<div class="sect3">
<h4 id="prerequisites-openshift">1.1.1. Prerequisites</h4>
<div class="paragraph">
<p>To install EnMasse, you need to have the OpenShift client tools. You can download the OpenShift
Origin client from <a href="https://github.com/openshift/origin/releases">OpenShift Origin</a>. EnMasse has
been tested to work with the latest stable release of the OpenShift Origin Client.</p>
</div>
<div class="paragraph">
<p>If you do not have an OpenShift cluster available, see
<a href="https://github.com/minishift/minishift">minishift</a> for an example of how to run a local instance of OpenShift
on your machine.</p>
</div>
<div class="paragraph">
<p>You also need a way to generate certificates. This guide uses <a href="https://www.openssl.org/">OpenSSL</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download one of the releases from <a href="https://github.com/EnMasseProject/enmasse/releases" class="bare">https://github.com/EnMasseProject/enmasse/releases</a> and unpack it.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>EnMasse can be installed using automated <a href="https://www.ansible.com/">Ansible</a> playbooks, the
<code>deploy.sh</code> script, or following the manual steps.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: You can invoke the deployment script with <code>-h</code> to view a list of options.</p>
</div>
</div>
<div class="sect3">
<h4 id="installing_enmasse_using_ansible">1.1.2. Installing EnMasse using Ansible</h4>
<div class="paragraph">
<p>Installing with Ansible requires creating an inventory file with the variables for configuring the
system. Example inventory files can be found in the <code>ansible/inventory</code> folder. The following
options are supported:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Table Ansible Configuration Settings</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">namespace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Namespace where EnMasse should be installed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">multitenant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether EnMasse should be installed in the multitenant mode or not. Singletenant mode is recommended for evaluation purposes only.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enable_rbac</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable RBAC authentication of REST APIs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service_catalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable integration with the Service Catalog.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">osb_console_prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP URL of the console prefix for the Service Catalog Dashboard.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service broker service ip</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">authentication_services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authentication services to deploy. 'none' and 'standard' are supported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">["none"]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keycloak_admin_password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The admin password to use for the standard authentication service keycloak instance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes (if standard is enabled)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">keycloak_http_url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The OAUTH URL to use for keycloak.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">standard authentication service ip</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">api_server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable REST API server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">register_api_server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Register API server with Kubernetes master.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">secure_api_server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable mutual TLS for API server.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>An example inventory that enables both the API server and Service Broker integration:</p>
</div>
<div class="listingblock">
<div class="title"><a href="service_admin/multitenant-all.inventory">multitenant-all.inventory</a></div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code>[enmasse]
localhost ansible_connection=local

[enmasse:vars]
namespace=enmasse
multitenant=true
enable_rbac=false
api_server=true
service_catalog=true
register_api_server=true
keycloak_admin_password=admin
authentication_services=["standard"]</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the ansible playbook.</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">ansible-playbook -i &lt;inventory file&gt; ansible/playbooks/openshift/install.yml</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="installing_enmasse_manually">1.1.3. Installing EnMasse manually</h4>
<div class="paragraph">
<p>This guide will walk through the manual deployment procedure and should work on any platform
supporting the OpenShift client.</p>
</div>
<div class="sect4">
<h5 id="creating_project_for_enmasse">Creating project for EnMasse</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create enmasse project:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc new-project enmasse</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="deploying_authentication_services">Deploying authentication services</h5>
<div class="paragraph">
<p>EnMasse requires at least 1 authentication service to be deployed. The authentication service
can either be none (allow all), standard (keycloak) or external (not managed by enmasse).</p>
</div>
<div class="sect5">
<h6 id="deploying_the_none_authentication_service">Deploying the none authentication service</h6>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a certificate to use for the none authentication service. For testing purposes, you can create a self-signed certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir -p none-authservice-cert
openssl req -new -x509 -batch -nodes -days 11000 -subj "/O=io.enmasse/CN=none-authservice.enmasse.svc.cluster.local" -out none-authservice-cert/tls.crt -keyout none-authservice-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create secret with the none authentication service certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create secret tls none-authservice-cert --cert=none-authservice-cert/tls.crt --key=none-authservice-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create the none authentication service:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/none-authservice/service.yaml
oc create -f ./resources/none-authservice/deployment.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="deploying_the_standard_authentication_service">Deploying the standard authentication service</h6>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a certificate to use for the standard authentication service. For testing purposes, you can create a self-signed certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir -p standard-authservice-cert
openssl req -new -x509 -batch -nodes -days 11000 -subj "/O=io.enmasse/CN=standard-authservice.enmasse.svc.cluster.local" -out standard-authservice-cert/tls.crt -keyout standard-authservice-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create secret with the standard authentication service certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create secret tls standard-authservice-cert --cert=standard-authservice-cert/tls.crt --key=standard-authservice-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create secret with keycloak admin credentials. Choose password wisely as this user will have complete access over authentication and authorization policies:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create secret generic keycloak-credentials --from-literal=admin.username=admin --from-literal=admin.password=myrandompassword</pre>
</div>
</div>
</li>
<li>
<p>Grant privileges to service account:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc login -u system:admin
oc adm policy add-cluster-role-to-user enmasse.io:keycloak-controller system:serviceaccount:enmasse:enmasse-admin</pre>
</div>
</div>
</li>
<li>
<p>Create the standard authentication service:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/standard-authservice/service.yaml
oc create -f ./resources/standard-authservice/keycloak-deployment.yaml
oc create -f ./resources/standard-authservice/controller-deployment.yaml
oc create -f ./resources/standard-authservice/pvc.yaml
oc create -f ./resources/standard-authservice/route.yaml</pre>
</div>
</div>
</li>
<li>
<p>Create keycloak configuration used by controller and service. To make the standard authservice
accessible for the messaging console and keycloak operator, you need to specify the <code>httpUrl</code>
setting. If you are running a local cluster without a public DNS, use the internal service
IP for the hostname, otherwise use the hostname of the external route. To get the service ip:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc get service standard-authservice -o jsonpath={.spec.clusterIP}</pre>
</div>
</div>
</li>
<li>
<p>Or, if you have a public hostname:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc get route keycloak -o jsonpath={.spec.host}</pre>
</div>
</div>
</li>
<li>
<p>Create keycloak configuration:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">AUTH_HOST=value from one of the previous commands
AUTH_PORT=8443 if using the service ip, 443 if using the route host
oc create configmap keycloak-config --from-literal=hostname=standard-authservice --from-literal=port=5671 --from-literal=httpUrl=https://$AUTH_HOST:$AUTH_PORT/auth --from-literal=caSecretName=standard-authservice-cert</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4">
<h5 id="deploying_address_space_controller">Deploying Address Space Controller</h5>
<div class="paragraph">
<p>The Address Space Controller is responsible for creating the infrastructure used by address spaces.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: If you install on OpenShift, it is recommended that you have cluster-admin access in order to
set up the required roles for creating namespaces and managing resources in those namespaces. See
<a href="#openshift-install-single-address-space">Deploying EnMasse limited to a single address space</a> for how to deploy without cluster-admin access, which will
restrict it to a single address space.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a service account for the EnMasse address space controller:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create sa enmasse-admin</pre>
</div>
</div>
</li>
<li>
<p>Create cluster-wide roles used by the <code>enmasse-admin</code> service account:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc login -u system:admin
oc create -f ./resources/cluster-roles/openshift/address-space-controller.yaml</pre>
</div>
</div>
</li>
<li>
<p>Grant privileges to service account:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc login -u system:admin
oc policy add-role-to-user admin system:serviceaccount:enmasse:enmasse-admin
oc adm policy add-cluster-role-to-user enmasse.io:address-space-controller system:serviceaccount:enmasse:enmasse-admin</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: You can log back in as the regular user after this step.</p>
</div>
</li>
<li>
<p>Install default plan and resource configuration</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/resource-definitions/resource-definitions.yaml
oc create -f ./resources/plans/standard-plans.yaml
oc create -f ./resources/plans/brokered-plans.yaml</pre>
</div>
</div>
</li>
<li>
<p>Deploy the address-space-controller:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/address-space-controller/address-space-definitions.yaml
oc create -f ./resources/address-space-controller/deployment.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="optional_deploying_api_server">(Optional) Deploying API Server</h5>
<div class="paragraph">
<p>The API Server provides a REST API for creating address spaces and addresses. It can also serve as
a Kubernetes API server if registered as an APIService.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: If you install on OpenShift, it is recommended that you have cluster-admin access in order to set up the required roles for delegating authentication to the Kubernetes master. See <a href="#openshift-install-single-address-space">Deploying EnMasse limited to a single address space</a> for how to deploy without cluster-admin access, which will restrict it to a single address space.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a service account for the EnMasse api server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create sa enmasse-admin</pre>
</div>
</div>
</li>
<li>
<p>Create cluster-wide roles used by the <code>enmasse-admin</code> service account:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc login -u system:admin
oc create -f ./resources/cluster-roles/api-server.yaml</pre>
</div>
</div>
</li>
<li>
<p>Grant privileges to service account:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc login -u system:admin
oc policy add-role-to-user admin system:serviceaccount:enmasse:enmasse-admin
oc adm policy add-cluster-role-to-user enmasse.io:api-server system:serviceaccount:enmasse:enmasse-admin
oc adm policy add-cluster-role-to-user system:auth-delegator system:serviceaccount:enmasse:enmasse-admin</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: You can log back in as the regular user after this step.</p>
</div>
</li>
<li>
<p>Create a certificate to use for the api server. For testing purposes, you can create a self-signed certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir -p api-server-cert/
openssl req -new -x509 -batch -nodes -days 11000 -subj "/O=io.enmasse/CN=api-server.enmasse.svc.cluster.local" -out api-server-cert/tls.crt -keyout api-server-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create a secret containing the api-server certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create secret tls api-server-cert --cert=api-server-cert/tls.crt --key=api-server-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create API server config:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create configmap api-server-config --from-literal=enableRbac=false</pre>
</div>
</div>
</li>
<li>
<p>Deploy the api-server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/api-server/deployment.yaml
oc create -f ./resources/api-server/service.yaml</pre>
</div>
</div>
<div class="paragraph">
<p><a id="oc-register-apiservice"></a></p>
</div>
</li>
<li>
<p>(Optional) Register API server to support custom resources</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc process -f ./resources/templates/api-service.yaml ENMASSE_NAMESPACE=enmasse | oc create -f -</pre>
</div>
</div>
</li>
<li>
<p>(Optional) Create routes exposing the API server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create route passthrough restapi --service=api-server -n enmasse</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="optional_deploying_service_broker">(Optional) Deploying Service Broker</h5>
<div class="paragraph">
<p>The Service Broker provides an implementation of the Open Service Broker API that integrates with the Kubernetes Service Catalog. The Service Broker requires the Standard Authentication Service to be deployed.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: If you install on OpenShift, it is recommended that you have cluster-admin access in order to set up the required roles for delegating authentication to the Kubernetes master. See <a href="#openshift-install-single-address-space">Deploying EnMasse limited to a single address space</a> for how to deploy without cluster-admin access, which will restrict it to a single address space.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a service account for the EnMasse service broker:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create sa enmasse-admin</pre>
</div>
</div>
</li>
<li>
<p>Create cluster-wide roles used by the <code>enmasse-admin</code> service account:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc login -u system:admin
oc create -f ./resources/cluster-roles/service-broker.yaml</pre>
</div>
</div>
</li>
<li>
<p>Grant privileges to service account:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc login -u system:admin
oc policy add-role-to-user admin system:serviceaccount:enmasse:enmasse-admin
oc adm policy add-cluster-role-to-user enmasse.io:service-broker system:serviceaccount:enmasse:enmasse-admin
oc adm policy add-cluster-role-to-user system:auth-delegator system:serviceaccount:enmasse:enmasse-admin</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: You can log back in as the regular user after this step.</p>
</div>
</li>
<li>
<p>Create a certificate to use for the service broker. For testing purposes, you can create a self-signed certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir -p service-broker-cert/
openssl req -new -x509 -batch -nodes -days 11000 -subj "/O=io.enmasse/CN=service-broker.enmasse.svc.cluster.local" -out service-broker-cert/tls.crt -keyout service-broker-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create a secret containing the service-broker certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create secret tls service-broker-cert --cert=service-broker-cert/tls.crt --key=service-broker-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create a secret containing the service-broker secret configuration:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create secret tls service-broker-secret --from-literal=keycloak.username=admin --from-literal=keycloak.password=admin --from-literal=keycloakCa.crt=`oc extract secret/standard-authservice-cert --keys=tls.crt --to=-`</pre>
</div>
</div>
</li>
<li>
<p>Deploy the service-broker:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/service-broker/deployment.yaml
oc create -f ./resources/service-broker/service.yaml</pre>
</div>
</div>
</li>
<li>
<p>Create service broker configuration. To make the service broker behave correctly in redirects, you need to specify the <code>keycloakUrl</code> setting. If you are running a local cluster without a public DNS, use the internal service IP for the hostname, otherwise use the hostname of the external route. To get the service ip:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc get service standard-authservice -o jsonpath={.spec.clusterIP}</pre>
</div>
</div>
</li>
<li>
<p>Or, if you have a public hostname:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc get route keycloak -o jsonpath={.spec.host}</pre>
</div>
</div>
</li>
<li>
<p>Create service broker config:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">AUTH_HOST=value from one of the previous commands
AUTH_PORT=8443 if using the service ip, 443 if using the route host
oc create configmap service-broker-config --from-literal=enableRbac=false --from-literal=keycloakUrl=https://$AUTH_HOST:$AUTH_PORT/auth</pre>
</div>
</div>
</li>
<li>
<p>Create secret with token for Service Catalog</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create secret generic service-catalog-credentials --from-literal=token=`oc whoami -t`</pre>
</div>
</div>
</li>
<li>
<p>Register Service Broker with Service Catalog</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc process -f ./resources/templates/service-broker.yaml BROKER_NAMESPACE=enmasse | oc create -f -</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="openshift-install-single-address-space">Deploying EnMasse limited to a single address space</h5>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create service accounts for the EnMasse address space controller and address space:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create sa enmasse-admin
oc create sa address-space-admin</pre>
</div>
</div>
</li>
<li>
<p>Grant privileges required for viewing and managing resources:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc policy add-role-to-user view system:serviceaccount:enmasse:default
oc policy add-role-to-user admin system:serviceaccount:enmasse:enmasse-admin
oc policy add-role-to-user admin system:serviceaccount:enmasse:address-space-admin</pre>
</div>
</div>
</li>
<li>
<p>Install default plan and resource configuration</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/resource-definitions/resource-definitions.yaml
oc create -f ./resources/plans/standard-plans.yaml</pre>
</div>
</div>
</li>
<li>
<p>Deploy default address space</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc process -f ./resources/templates/address-space.yaml NAME=default NAMESPACE=enmasse TYPE=standard PLAN=unlimited-standard | oc create -f -</pre>
</div>
</div>
</li>
<li>
<p>Deploy template for creating addresses. You can use this later for creating addresses from the command line</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/templates/address.yaml -n enmasse</pre>
</div>
</div>
</li>
<li>
<p>Deploy address-space-controller:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc create -f ./resources/address-space-controller/address-space-definitions.yaml
oc create -f ./resources/address-space-controller/deployment.yaml</pre>
</div>
</div>
<div class="paragraph">
<p>The deployments required for running EnMasse are now created.
This guide will walk through the manual deployment procedure and should work on any platform
supporting the OpenShift client.</p>
</div>
</li>
<li>
<p>EnMasse will be up and running once all pods in the 'enmasse' namespace are in the <code>Running</code> state:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">oc get pods -n enmasse</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installing-kubernetes">1.2. Installing EnMasse on Kubernetes</h3>
<div class="sect3">
<h4 id="prerequisites-kubernetes">1.2.1. Prerequisites</h4>
<div class="paragraph">
<p>To install EnMasse, you need to have Kubernetes installed. You can use
<a href="https://github.com/kubernetes/minikube">minikube</a> if you want to install EnMasse on your
laptop.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download one of the releases from <a href="https://github.com/EnMasseProject/enmasse/releases" class="bare">https://github.com/EnMasseProject/enmasse/releases</a> and unpack it.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To simplify deployment, have a look at the <code>deploy.sh</code> script which should work on Linux
and Mac. You can invoke the deployment script with <code>-h</code> to view a list of options.</p>
</div>
<div class="paragraph">
<p>This guide will walk through the manual deployment procedure and should work on any platform
supporting the <code>kubectl</code> command line client.</p>
</div>
<div class="sect4">
<h5 id="creating_project_for_enmasse_2">Creating project for EnMasse</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create enmasse namespace:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create namespace enmasse</pre>
</div>
</div>
</li>
<li>
<p>Set enmasse namespace as default namespace:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl config set-context $(kubectl config current-context) --namespace=enmasse</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="deploying_authentication_services_2">Deploying authentication services</h5>
<div class="paragraph">
<p>EnMasse requires at least 1 authentication service to be deployed. The authentication service
can either be none (allow all), standard (keycloak) or external (not managed by enmasse).</p>
</div>
<div class="sect5">
<h6 id="deploying_the_none_authentication_service_2">Deploying the none authentication service</h6>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a certificate to use for the none authentication service. For testing purposes, you can create a self-signed certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir -p none-authservice-cert
openssl req -new -x509 -batch -nodes -days 11000 -subj "/O=io.enmasse/CN=none-authservice.enmasse.svc.cluster.local" -out none-authservice-cert/tls.crt -keyout none-authservice-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create secret with the none authentication service certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create secret tls none-authservice-cert --cert=none-authservice-cert/tls.crt --key=none-authservice-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create the none authentication service:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create -f ./resources/none-authservice/service.yaml
kubectl create -f ./resources/none-authservice/deployment.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="deploying_the_standard_authentication_service_2">Deploying the standard authentication service</h6>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a certificate to use for the standard authentication service. For testing purposes, you can create a self-signed certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir -p standard-authservice-cert
openssl req -new -x509 -batch -nodes -days 11000 -subj "/O=io.enmasse/CN=standard-authservice.enmasse.svc.cluster.local" -out standard-authservice-cert/tls.crt -keyout standard-authservice-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create secret with the standard authentication service certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create secret tls standard-authservice-cert --cert=standard-authservice-cert/tls.crt --key=standard-authservice-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create secret with keycloak admin credentials. Choose password wisely as this user will have complete access over authentication and authorization policies:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create secret generic keycloak-credentials --from-literal=admin.username=admin --from-literal=admin.password=myrandompassword</pre>
</div>
</div>
</li>
<li>
<p>Create the standard authentication service:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create -f ./resources/standard-authservice/service.yaml
kubectl create -f ./resources/standard-authservice/keycloak-deployment.yaml
kubectl create -f ./resources/standard-authservice/controller-deployment.yaml
kubectl create -f ./resources/standard-authservice/pvc.yaml
kubectl create -f ./resources/standard-authservice/route.yaml</pre>
</div>
</div>
</li>
<li>
<p>Create keycloak configuration used by controller and service. To make the standard authservice
accessible for the messaging console and keycloak operator, you need to specify the <code>httpUrl</code>
setting. If you are running a local cluster without a public DNS, use the internal service
IP for the hostname, otherwise use the hostname of the external route. To get the service ip:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl get service standard-authservice -o jsonpath={.spec.clusterIP}</pre>
</div>
</div>
</li>
<li>
<p>Create keycloak configuration:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">AUTH_HOST=value from one of the previous commands
AUTH_PORT=8443 if using the service ip, 443 if using the route host
kubectl create configmap keycloak-config --from-literal=hostname=standard-authservice --from-literal=port=5671 --from-literal=httpUrl=https://$AUTH_HOST:$AUTH_PORT/auth --from-literal=caSecretName=standard-authservice-cert</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4">
<h5 id="deploying_address_space_controller_2">Deploying Address Space Controller</h5>
<div class="paragraph">
<p>The Address Space Controller is responsible for creating the infrastructure used by address spaces.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: If you install on OpenShift, it is recommended that you have cluster-admin access in order to
set up the required roles for creating namespaces and managing resources in those namespaces. See
<a href="#openshift-install-single-address-space">Deploying EnMasse limited to a single address space</a> for how to deploy without cluster-admin access, which will
restrict it to a single address space.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a service account for the EnMasse address space controller:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create sa enmasse-admin</pre>
</div>
</div>
</li>
<li>
<p>Install default plan and resource configuration</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create -f ./resources/resource-definitions/resource-definitions.yaml
kubectl create -f ./resources/plans/standard-plans.yaml
kubectl create -f ./resources/plans/brokered-plans.yaml</pre>
</div>
</div>
</li>
<li>
<p>Deploy the address-space-controller:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create -f ./resources/address-space-controller/address-space-definitions.yaml
kubectl create -f ./resources/address-space-controller/deployment.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="optional_deploying_api_server_2">(Optional) Deploying API Server</h5>
<div class="paragraph">
<p>The API Server provides a REST API for creating address spaces and addresses. It can also serve as
a Kubernetes API server if registered as an APIService.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: If you install on OpenShift, it is recommended that you have cluster-admin access in order to set up the required roles for delegating authentication to the Kubernetes master. See <a href="#openshift-install-single-address-space">Deploying EnMasse limited to a single address space</a> for how to deploy without cluster-admin access, which will restrict it to a single address space.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a service account for the EnMasse api server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create sa enmasse-admin</pre>
</div>
</div>
</li>
<li>
<p>Create a certificate to use for the api server. For testing purposes, you can create a self-signed certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir -p api-server-cert/
openssl req -new -x509 -batch -nodes -days 11000 -subj "/O=io.enmasse/CN=api-server.enmasse.svc.cluster.local" -out api-server-cert/tls.crt -keyout api-server-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create a secret containing the api-server certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create secret tls api-server-cert --cert=api-server-cert/tls.crt --key=api-server-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create API server config:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create configmap api-server-config --from-literal=enableRbac=false</pre>
</div>
</div>
</li>
<li>
<p>Deploy the api-server:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create -f ./resources/api-server/deployment.yaml
kubectl create -f ./resources/api-server/service.yaml</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="optional_deploying_service_broker_2">(Optional) Deploying Service Broker</h5>
<div class="paragraph">
<p>The Service Broker provides an implementation of the Open Service Broker API that integrates with the Kubernetes Service Catalog. The Service Broker requires the Standard Authentication Service to be deployed.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: If you install on OpenShift, it is recommended that you have cluster-admin access in order to set up the required roles for delegating authentication to the Kubernetes master. See <a href="#openshift-install-single-address-space">Deploying EnMasse limited to a single address space</a> for how to deploy without cluster-admin access, which will restrict it to a single address space.</p>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create a service account for the EnMasse service broker:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create sa enmasse-admin</pre>
</div>
</div>
</li>
<li>
<p>Create a certificate to use for the service broker. For testing purposes, you can create a self-signed certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">mkdir -p service-broker-cert/
openssl req -new -x509 -batch -nodes -days 11000 -subj "/O=io.enmasse/CN=service-broker.enmasse.svc.cluster.local" -out service-broker-cert/tls.crt -keyout service-broker-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create a secret containing the service-broker certificate:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create secret tls service-broker-cert --cert=service-broker-cert/tls.crt --key=service-broker-cert/tls.key</pre>
</div>
</div>
</li>
<li>
<p>Create a secret containing the service-broker secret configuration:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create secret tls service-broker-secret --from-literal=keycloak.username=admin --from-literal=keycloak.password=admin --from-literal=keycloakCa.crt=`kubectl extract secret/standard-authservice-cert --keys=tls.crt --to=-`</pre>
</div>
</div>
</li>
<li>
<p>Deploy the service-broker:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create -f ./resources/service-broker/deployment.yaml
kubectl create -f ./resources/service-broker/service.yaml</pre>
</div>
</div>
</li>
<li>
<p>Create service broker configuration. To make the service broker behave correctly in redirects, you need to specify the <code>keycloakUrl</code> setting. If you are running a local cluster without a public DNS, use the internal service IP for the hostname, otherwise use the hostname of the external route. To get the service ip:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl get service standard-authservice -o jsonpath={.spec.clusterIP}</pre>
</div>
</div>
</li>
<li>
<p>Create service broker config:</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">AUTH_HOST=value from one of the previous commands
AUTH_PORT=8443 if using the service ip, 443 if using the route host
kubectl create configmap service-broker-config --from-literal=enableRbac=false --from-literal=keycloakUrl=https://$AUTH_HOST:$AUTH_PORT/auth</pre>
</div>
</div>
</li>
<li>
<p>Create secret with token for Service Catalog</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create secret generic service-catalog-credentials --from-literal=token=`kubectl whoami -t`</pre>
</div>
</div>
</li>
<li>
<p>Register Service Broker with Service Catalog</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl process -f ./resources/templates/service-broker.yaml BROKER_NAMESPACE=enmasse | oc create -f -</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring_address_space_and_address_plans">2. Configuring address space and address plans</h2>
<div class="sectionbody">
<div id="plans" class="paragraph">
<p>Plans are used to configure quotas and control the resources consumed by a particular deployment.  Plans are configured by the EnMasse service operator, and selected when creating an address space and address.</p>
</div>
<div class="paragraph">
<p>Resource definitions are a description of some resource referenced by the plans, which may be configured with a template and parameters to be used when instantiating the template.</p>
</div>
<div class="paragraph">
<p>By default, EnMasse comes with a set of plans and resource definitions that will be
sufficient for most uses.</p>
</div>
<div class="paragraph">
<p>This guide will explain how to create and modify plans to suit your needs.</p>
</div>
<div class="sect3">
<h4 id="address-space-plans">2.1. Address Space plans</h4>
<div class="paragraph">
<p>Address space plans configure the quota available to a given address space. By default, EnMasse comes with an 'unlimited' quota plan for both the standard and brokered address space.</p>
</div>
<div class="paragraph">
<p>Plans are configured as configmaps. Following is an example plan for the standard address space:</p>
</div>
<div class="listingblock">
<div class="title"><a href="service_admin/restrictive-plan.yaml">restrictive-plan.yaml</a></div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: restrictive-plan
  labels:
    type: address-space-plan
data:
  definition: |-
    {
      "apiVersion": "enmasse.io/v1",
      "kind": "AddressSpacePlan",
      "metadata": {
        "name": "restrictive-plan"
        "annotations": {
          "defined-by": "standard-space"
        }
      },
      "displayName": "Restrictive Plan",
      "displayOrder": 0,
      "shortDescription": "A plan with restrictive quotas",
      "longDescription": "A plan with restrictive quotas for the standard address space",
      "uuid": "74b9a40e-117e-11e8-b4e1-507b9def37d9",
      "addressSpaceType": "standard",
      "addressPlans": [
        "small-queue",
        "small-anycast"
      ],
      "resources": [
        {
          "name": "router",
          "min": "0.0",
          "max": "2.0"
        },
        {
          "name": "broker",
          "min": "0.0",
          "max": "2.0"
        },
        {
          "name": "aggregate",
          "min": "0.0",
          "max": "2.0"
        }
      ]
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following fields are required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>metadata.name</p>
</li>
<li>
<p>resources</p>
</li>
<li>
<p>addressPlans</p>
</li>
<li>
<p>addressSpaceType</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The other fields are only used by the console UI. Its also important to note the annotation 'defined-by', which points to a resource definition describing the infrastructure that should be deployed when an address space with this plan is created.</p>
</div>
</div>
<div class="sect3">
<h4 id="address-plans">2.2. Address plans</h4>
<div class="paragraph">
<p>Address plans configure the expected resource usage of a given address. The sum of the resource usage for all resource types determines the amount of infrastructure provisioned for an address space. A single router and broker pod has a max usage of 1. If a new address requires additional resources, and the resource consumption is within the address space plan limits, a new pod will be created automatically to handle the increased load.</p>
</div>
<div class="paragraph">
<p>As you may have noticed in the previous section, the address space plan referenced 2 address plans, 'small-queue' and 'small-anycast'. These address plans are stored as configmaps and may be defined as follows:</p>
</div>
<div class="listingblock">
<div class="title"><a href="service_admin/small-queue-plan.yaml">small-queue-plan.yaml</a></div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: small-queue-plan
  labels:
    type: address-plan
data:
  definition: |-
    {
      "apiVersion": "enmasse.io/v1",
      "kind": "AddressPlan",
      "metadata": {
        "name": "small-queue"
      },
      "displayName": "Small queue plan",
      "displayOrder": 0,
      "shortDescription": "A plan for small queues",
      "longDescription": "A plan for small queues that consume little resources",
      "uuid": "98feabb6-1183-11e8-a769-507b9def37d9",
      "addressType": "queue",
      "requiredResources": [
        {
          "name": "router",
          "credit": 0.2
        },
        {
          "name": "broker",
          "credit": 0.3
        }
      ]
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following fields are required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>metadata.name</p>
</li>
<li>
<p>requiredResources</p>
</li>
<li>
<p>addressType</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A single router and broker can support 5 and 3 instances of addresses with this plan respectively.  If the number of addresses with this plan increases to 4, another broker is created. If it increases further to 6, another router is created as well.</p>
</div>
<div class="paragraph">
<p>Note, however, that although the address space plan allows 2 routers and 2 brokers to be deployed, it only allows 2 pods to be deployed in total. This means that the address space is restricted to 3 addresses with the 'small-queue' plan.</p>
</div>
<div class="paragraph">
<p>The 'small-anycast' plan does not consume any broker resources, and may provision 2 routers at the expense of not being able to create any brokers:</p>
</div>
<div class="listingblock">
<div class="title"><a href="service_admin/small-anycast-plan.yaml">small-anycast-plan.yaml</a></div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: small-anycast-plan
  labels:
    type: address-plan
data:
  definition: |-
    {
      "apiVersion": "enmasse.io/v1",
      "kind": "AddressPlan",
      "metadata": {
        "name": "small-anycast"
      },
      "displayName": "Small anycast plan",
      "displayOrder": 0,
      "shortDescription": "A plan for small anycast addresses",
      "longDescription": "A plan for small anycast addresses that consume little resources",
      "uuid": "cb61f440-1184-11e8-adda-507b9def37d9",
      "addressType": "anycast",
      "requiredResources": [
        {
          "name": "router",
          "credit": 0.2
        }
      ]
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Up to 10 addresses with this plan may be created.</p>
</div>
</div>
<div class="sect3">
<h4 id="resource-definitions">2.3. Resource definitions</h4>
<div class="paragraph">
<p>Resource describes a template along with a set of parameters. The resource definition is referenced from the plans. At present, only 3 resource definitions are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>router</p>
</li>
<li>
<p>broker</p>
</li>
<li>
<p>broker-topic</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Resource definitions with other names will not work with EnMasse. It is, however, possible to modify these resource definitions to change the template and template parameters used when instantiating the infrastructure. For instance, the following configmap that increases the memory available for brokers can replace the default provided by EnMasse:</p>
</div>
<div class="listingblock">
<div class="title"><a href="service_admin/broker-resource.yaml">broker-resource.yaml</a></div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: broker-resource
  labels:
    type: resource-definition
data:
  definition: |-
    {
      "apiVersion": "enmasse.io/v1",
      "kind": "ResourceDefinition",
      "metadata": {
        "name": "broker"
      },
      "template": "queue-persisted",
      "parameters": [
        {
          "name": "BROKER_MEMORY_LIMIT",
          "value": "2Gi"
        }
      ]
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="monitoring">3. Monitoring</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="monitoring">3.1. Monitoring EnMasse</h3>
<div class="paragraph">
<p>EnMasse comes with addons for Prometheus and Grafana for monitoring the service. Cluster-admin
privileges is required for Prometheus to monitor pods in the cluster.</p>
</div>
<div class="sect3">
<h4 id="deploying_prometheus">3.1.1. Deploying Prometheus</h4>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create Prometheus deployment</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create -f ./resources/prometheus/prometheus.yaml -n enmasse</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="deploying_grafana">3.1.2. Deploying Grafana</h4>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create Grafana deployment</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl create -f ./resources/grafana/grafana.yaml -n enmasse</pre>
</div>
</div>
</li>
<li>
<p>Expose Grafana service</p>
<div class="listingblock">
<div class="content">
<pre class="nowrap">kubectl expose service grafana</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Grafana accepts the username 'admin' and password 'admin' by default. See the <a href="https://prometheus.io/docs/visualization/grafana/#creating-a-prometheus-data-source">Prometheus Documentation</a> on how to connect Grafana to Prometheus. Use <code>prometheus.enmasse.svc.cluster.local</code> as the prometheus hostname.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing_address_spaces_and_addresses">4. Managing address spaces and addresses</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="address_model">4.1. Address Model</h3>
<div class="paragraph">
<p>The EnMasse address model involves three distinct concepts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>types of address spaces</p>
</li>
<li>
<p>types of addresses within each address space</p>
</li>
<li>
<p>available plans</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="address_space">4.1.1. Address Space</h4>
<div class="paragraph">
<p>An address space is a group of addresses that can be accessed through a single connection (per protocol). This means that clients connected to the endpoints of an address space can send messages to or receive messages from any address it is authorized to send messages to or receive messages from within that address space. An address space can support multiple protocols, which is defined by the address space type.</p>
</div>
</div>
<div class="sect3">
<h4 id="address">4.1.2. Address</h4>
<div class="paragraph">
<p>An address is part of an address space and represents a destination used for sending and receiving messages. An address has a type, which defines the semantics of sending messages to and receiving messages from that address.</p>
</div>
</div>
<div class="sect3">
<h4 id="plans_2">4.1.3. Plans</h4>
<div class="paragraph">
<p>Both address spaces and addresses can be restricted by a plan, which enforces a limit on resource usage across multiple dimensions. Note that the set of plans currently offered might be extended in the future, and the constraints imposed by a plan within an address space might change as operational experience is gained.</p>
</div>
<div class="sect4">
<h5 id="address_space_plans">Address Space Plans</h5>
<div class="paragraph">
<p>Each address space has a plan that restricts the aggregated resource usage within an address space. Each address space type can translate the plan into a set of restrictions, for example, the ability to scale up to five routers or to create up to 10 addresses. These restrictions are documented within each address space.</p>
</div>
</div>
<div class="sect4">
<h5 id="address_plans">Address Plans</h5>
<div class="paragraph">
<p>The usage of each address is also constrained by a plan. Each address type translates the plan into a set of restrictions, for example, up to five consumers or up to 100 messages per hour. These restrictions are documented within each address type.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="standard_address_space">4.1.4. Standard Address Space</h4>
<div class="paragraph">
<p>The default address space in EnMasse is the standard address space and it consists of an AMQP router network in combination with attachable storage units. The implementation of a storage unit is hidden from the client and the routers with a well-defined API. This address space type is appropriate when you have many connections and addresses. However, it has the following limitations: no transaction support, no message ordering, no selectors on queues, and no message groups.</p>
</div>
<div class="paragraph">
<p>Clients connect and send and receive messages in this address space using the AMQP or MQTT protocols. Note that MQTT does not support qos2 or retained messages.</p>
</div>
<div class="sect4">
<h5 id="address_types">Address Types</h5>
<div class="paragraph">
<p>The standard address space supports four address types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>queue</p>
</li>
<li>
<p>topic</p>
</li>
<li>
<p>anycast</p>
</li>
<li>
<p>multicast</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="standard-queue">Queue</h5>
<div class="paragraph">
<p>The queue address type is a store-and-forward queue. This address type is appropriate for implementing a distributed work queue, handling traffic bursts, and other use cases where you want to decouple the producer and consumer. A queue can be sharded across multiple storage units; however, message order is no longer guaranteed.</p>
</div>
</div>
<div class="sect4">
<h5 id="standard-topic">Topic</h5>
<div class="paragraph">
<p>The topic address type supports the publish-subscribe messaging pattern where you have 1..N producers and 1..M consumers. Each message published to a topic address is forwarded to all subscribers for that address. A subscriber can also be durable, in which case messages are kept until the subscriber has acknowledged them.</p>
</div>
</div>
<div class="sect4">
<h5 id="anycast">Anycast</h5>
<div class="paragraph">
<p>The anycast address type is a scalable direct address for sending messages to one consumer. Messages sent to an anycast address are not stored, but forwarded directly to the consumer. This method makes this address type ideal for request-reply (RPC) uses or even work distribution. This is the cheapest address type as it does not require any persistence.</p>
</div>
</div>
<div class="sect4">
<h5 id="multicast">Multicast</h5>
<div class="paragraph">
<p>The multicast address type is a scalable direct address for sending messages to multiple consumers. Messages sent to a multicast address are forwarded to all consumers receiving messages on that address. It is important to note that only pre-settled messages can be sent to multicast addresses, as message acknowledgements from consumers are not propagated to producers.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="brokered_address_space">4.1.5. Brokered Address Space</h4>
<div class="paragraph">
<p>The brokered address space is designed to support broker-specific features, at the cost of limited
scale in terms of the number of connections and addresses. This address space supports JMS
transactions, message groups, and so on.</p>
</div>
<div class="paragraph">
<p>Clients connect and send and receive messages in this address space using the AMQP protocol.</p>
</div>
<div class="sect4">
<h5 id="address_types_2">Address types</h5>
<div class="ulist">
<ul>
<li>
<p>queue</p>
</li>
<li>
<p>topic</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="brokered-queue">Queue</h5>
<div class="paragraph">
<p>The queue address type is a store-and-forward queue. This address type is appropriate for
implementing a distributed work queue, handling traffic bursts, and other use cases where you want
to decouple the producer and consumer. A queue in the brokered address spaces supports selectors,
message groups, transactions, and other JMS features.</p>
</div>
</div>
<div class="sect4">
<h5 id="brokered-topic">Topic</h5>
<div class="paragraph">
<p>The topic address type supports the publish-subscribe messaging pattern where you have 1..N producers and 1..M consumers. Each message published to a topic address is forwarded to all subscribers for that address. A subscriber can also be durable, in which case messages are kept until the subscriber has acknowledged them.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-using-cli">4.2. Configuring EnMasse using the command line</h3>
<div class="paragraph">
<p>EnMasse can be configured to support manipulating address spaces and addresses using the
Kubernetes and OpenShift command line tools. See <a href="#oc-register-apiservice">[oc-register-apiservice]</a> for how to setup the API
server to support this if you have not already configured your installation with it.</p>
</div>
<div class="sect3">
<h4 id="creating_an_address_space">4.2.1. Creating an Address Space</h4>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Save the following YAML data to a file 'space.yaml':</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">apiVersion: enmasse.io/v1alpha1
kind: AddressSpace
metadata:
    name: myspace
spec:
    type: standard
    plan: unlimited-standard</code></pre>
</div>
</div>
</li>
<li>
<p>Create the address space using the command line (replace <code>oc</code> with <code>kubectl</code> if using Kubernetes):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">oc create -f space.yaml</code></pre>
</div>
</div>
</li>
<li>
<p>You should now be able too list address spaces:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">oc get addressspaces</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="creating_an_address">4.2.2. Creating an Address</h4>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Save the following YAML data to a file 'address.yaml' (<strong>NOTE</strong>: Prefixing the name with the address space name is required to ensure addresses from different address spaces do not collide):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">apiVersion: enmasse.io/v1alpha1
kind: Address
metadata:
    name: myspace.myqueue
spec:
    address: myqueue
    type: queue
    plan: pooled-queue</code></pre>
</div>
</div>
</li>
<li>
<p>Create the address using the command line (replace <code>oc</code> with <code>kubectl</code> if using Kubernetes):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">oc create -f address.yaml</code></pre>
</div>
</div>
</li>
<li>
<p>You should now be able too list addresses:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-yaml hljs" data-lang="yaml">oc get addresses</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-using-restapi">4.3. Configuring EnMasse using a REST API</h3>
<div class="paragraph">
<p>EnMasse provides an API that can be used for configuring address spaces and addresses
within those address spaces. Clients can be configured to authenticate using
<a href="https://kubernetes.io/docs/admin/authorization/rbac/" target="_blank" rel="noopener">RBAC</a>.</p>
</div>
<div class="paragraph">
<p>All API URIs are namespaced. This means that address spaces are scoped within a particular
namespace. Addresses are scoped within an address space. This means that an address
space in address space A may have the same name as an address in address space B.</p>
</div>
<div class="paragraph">
<p>Likewise, an address space in namespace A can have the same name as an address space in namespace B.</p>
</div>
<div class="sect3">
<h4 id="creating_an_address_space_2">4.3.1. Creating an Address Space</h4>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Save the following JSON data to a file 'space.json':</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-json hljs" data-lang="json">{
    "apiVersion": "enmasse.io/v1alpha1",
    "kind": "AddressSpace",
    "metadata": {
        "name": "myspace"
    },
    "spec": {
        "type": "standard",
        "plan": "unlimited-standard"
    }
}</code></pre>
</div>
</div>
</li>
<li>
<p>POST the address space definition to the API using curl:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>TOKEN=`oc whoami -t`
curl -X POST -T space.json -H "Content-Type: application/json" -H "Authorization: Bearer $TOKEN" -k https://$(oc get route restapi -o jsonpath='{.spec.host}')/apis/enmasse.io/v1alpha1/namespaces/[:namespace]/addressspaces</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will create the infrastructure required for that address space. Replace the namespace with the
namespace of the application requesting the address space to be created. Starting up the address space
will take a while, usually depending on how fast it is able to download the Docker images for the
various components.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="viewing_address_space_status">4.3.2. Viewing Address Space Status</h4>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>You can use the API to check the status of the address space:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>TOKEN=`oc whoami -t`
curl -k -H "Authorization: Bearer $TOKEN" https://$(oc get route restapi -o jsonpath='{.spec.host}')/apis/enmasse.io/v1alpha1/namespaces/[:namespace]/addressspaces/myspace</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can consider the address space to be ready to use when <code>status.isReady</code> is <code>true</code> in the returned JSON
object.</p>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="creating_addresses">4.3.3. Creating Addresses</h4>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To create addresses in the standard address space, save the address definition to a file:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-json hljs" data-lang="json">{
  "apiVersion": "enmasse.io/v1alpha1",
  "kind": "Address",
  "metadata": {
      "addressSpace": "myspace"
  },
  "spec": {
    "address": "myqueue",
    "type": "queue",
    "plan": "pooled-queue"
  }
}</code></pre>
</div>
</div>
</li>
<li>
<p>You can then create the address using the following API. Replace the namespace with the same as for the address space:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">TOKEN=`oc whoami -t`
curl -X POST -T address.json -H "content-type: application/json" -H "Authorization: Bearer $TOKEN" -k https://$(oc get route restapi -o jsonpath='{.spec.host}')/apis/enmasse.io/v1alpha1/namespaces/[:namespace]/addressspaces/myspace/addresses</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="viewing_configured_addresses">4.3.4. Viewing Configured Addresses</h4>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To check which addresses are configured:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">curl -k https://$(oc get route restapi -o jsonpath='{.spec.host}')/apis/enmasse.io/v1alpha1/namespaces/[:namespace]/addressspaces/myspace/addresses</code></pre>
</div>
</div>
<div class="paragraph">
<p>The addresses are ready to be used by messaging clients once the <code>status.isReady</code> field of each
address is set to <code>true</code>.</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connecting_applications_to_enmasse">5. Connecting applications to EnMasse</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="connecting">5.1. Connecting to EnMasse</h3>
<div class="paragraph">
<p>To connect to the messaging service from outside the openshift or
kubernetes cluster, TLS must be used with SNI set to specify the fully
qualified hostname for the address-space. The port used is 443.</p>
</div>
<div class="paragraph">
<p>The messaging protocols supported depends on the type of the
address-space.</p>
</div>
<div class="sect3">
<h4 id="client_examples">5.1.1. Client Examples</h4>
<div class="paragraph">
<p>Simple examples are shown here for the following clients:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Apache Qpid Proton Python</p>
</li>
<li>
<p>Apache Qpid JMS</p>
</li>
<li>
<p>Rhea JavaScript Client</p>
</li>
<li>
<p>Apache Qpid Proton C++</p>
</li>
<li>
<p>AMQP.Net Lite</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These all assume you have created an address of type 'queue' named
'myqueue'.</p>
</div>
<div class="sect4">
<h5 id="apache_qpid_proton_python">Apache Qpid Proton Python</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-python hljs" data-lang="python">from __future__ import print_function, unicode_literals
from proton import Message
from proton.handlers import MessagingHandler
from proton.reactor import Container

class HelloWorld(MessagingHandler):
    def __init__(self, server, address):
        super(HelloWorld, self).__init__()
        self.server = server
        self.address = address

    def on_start(self, event):
        conn = event.container.connect(self.server)
        event.container.create_receiver(conn, self.address)
        event.container.create_sender(conn, self.address)

    def on_sendable(self, event):
        event.sender.send(Message(body="Hello World!"))
        event.sender.close()

    def on_message(self, event):
        print(event.message.body)
        event.connection.close()

Container(HelloWorld("amqps://&lt;messaging-route-hostname&gt;:443", "myqueue")).run()</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="apache_qpid_jms">Apache Qpid JMS</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">package org.apache.qpid.jms.example;

import javax.jms.Connection;
import javax.jms.ConnectionFactory;
import javax.jms.DeliveryMode;
import javax.jms.Destination;
import javax.jms.ExceptionListener;
import javax.jms.JMSException;
import javax.jms.Message;
import javax.jms.MessageConsumer;
import javax.jms.MessageProducer;
import javax.jms.Session;
import javax.jms.TextMessage;
import javax.naming.Context;
import javax.naming.InitialContext;

public class HelloWorld {
    public static void main(String[] args) throws Exception {
        try {
            // The configuration for the Qpid InitialContextFactory has been supplied in
            // a jndi.properties file in the classpath, which results in it being picked
            // up automatically by the InitialContext constructor.
            Context context = new InitialContext();

            ConnectionFactory factory = (ConnectionFactory) context.lookup("myFactoryLookup");
            Destination queue = (Destination) context.lookup("myQueueLookup");

            Connection connection = factory.createConnection(System.getProperty("USER"), System.getProperty("PASSWORD"));
            connection.setExceptionListener(new MyExceptionListener());
            connection.start();

            Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);

            MessageProducer messageProducer = session.createProducer(queue);
            MessageConsumer messageConsumer = session.createConsumer(queue);

            TextMessage message = session.createTextMessage("Hello world!");
            messageProducer.send(message, DeliveryMode.NON_PERSISTENT, Message.DEFAULT_PRIORITY, Message.DEFAULT_TIME_TO_LIVE);
            TextMessage receivedMessage = (TextMessage) messageConsumer.receive(2000L);

            if (receivedMessage != null) {
                System.out.println(receivedMessage.getText());
            } else {
                System.out.println("No message received within the given timeout!");
            }

            connection.close();
        } catch (Exception exp) {
            System.out.println("Caught exception, exiting.");
            exp.printStackTrace(System.out);
            System.exit(1);
        }
    }

    private static class MyExceptionListener implements ExceptionListener {
        @Override
        public void onException(JMSException exception) {
            System.out.println("Connection ExceptionListener fired, exiting.");
            exception.printStackTrace(System.out);
            System.exit(1);
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>with jndi.properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>connectionfactory.myFactoryLookup = amqps://&lt;messaging-route-hostname&gt;:443?transport.trustAll=true&amp;transport.verifyHost=false
queue.myQueueLookup = myqueue</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="rhea_javascript_client">Rhea JavaScript Client</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-javascript hljs" data-lang="javascript">var container = require('rhea');
container.on('connection_open', function (context) {
    context.connection.open_receiver('myqueue');
    context.connection.open_sender('myqueue');
});
container.on('message', function (context) {
    console.log(context.message.body);
    context.connection.close();
});
container.on('sendable', function (context) {
    context.sender.send({body:'Hello World!'});
    context.sender.detach();
});
container.connect({username: '&lt;username&gt;', password: '&lt;password&gt;', port:443, host:'&lt;messaging-route-hostname&gt;', transport:'tls', rejectUnauthorized:false});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="rhea_javascript_client_using_websockets">Rhea JavaScript Client using WebSockets</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-javascript hljs" data-lang="javascript">var container = require('rhea');
var WebSocket = require('ws');

container.on('connection_open', function (context) {
    context.connection.open_receiver('myqueue');
    context.connection.open_sender('myqueue');
});
container.on('message', function (context) {
    console.log(context.message.body);
    context.connection.close();
});
container.on('sendable', function (context) {
    context.sender.send({body:'Hello World!'});
    context.sender.detach();
});

var ws = container.websocket_connect(WebSocket);
container.connect({username: '&lt;username&gt;', password: '&lt;password&gt;', connection_details: ws("wss://&lt;messaging-route-hostname&gt;:443", ["binary"], {rejectUnauthorized: false})});</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="apache_qpid_proton_c">Apache Qpid Proton C++</h5>
<div class="paragraph">
<p>The C client has equivalent simple_recv and simple_send examples with the same options as python. However, the C library does not perform the same level of processing on the URL; in particular it won&#8217;t take amqps:// to imply using TLS, so the example needs to be modified as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-cpp hljs" data-lang="cpp">#include &lt;proton/connection.hpp&gt;
#include &lt;proton/container.hpp&gt;
#include &lt;proton/default_container.hpp&gt;
#include &lt;proton/delivery.hpp&gt;
#include &lt;proton/message.hpp&gt;
#include &lt;proton/messaging_handler.hpp&gt;
#include &lt;proton/ssl.hpp&gt;
#include &lt;proton/thread_safe.hpp&gt;
#include &lt;proton/tracker.hpp&gt;
#include &lt;proton/url.hpp&gt;

#include &lt;iostream&gt;

#include "fake_cpp11.hpp"

class hello_world : public proton::messaging_handler {
  private:
    proton::url url;

  public:
    hello_world(const std::string&amp; u) : url(u) {}

    void on_container_start(proton::container&amp; c) OVERRIDE {
        proton::connection_options co;
        co.ssl_client_options(proton::ssl_client_options());
        c.client_connection_options(co);
        c.connect(url);
    }

    void on_connection_open(proton::connection&amp; c) OVERRIDE {
        c.open_receiver(url.path());
        c.open_sender(url.path());
    }

    void on_sendable(proton::sender &amp;s) OVERRIDE {
        proton::message m("Hello World!");
        s.send(m);
        s.close();
    }

    void on_message(proton::delivery &amp;d, proton::message &amp;m) OVERRIDE {
        std::cout &lt;&lt; m.body() &lt;&lt; std::endl;
        d.connection().close();
    }
};

int main(int argc, char **argv) {
    try {
        std::string url = argc &gt; 1 ? argv[1] : "&lt;messaging-route-hostname&gt;:443/myqueue";

        hello_world hw(url);
        proton::default_container(hw).run();

        return 0;
    } catch (const std::exception&amp; e) {
        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;
    }

    return 1;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="amqp_net_lite">AMQP.Net Lite</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-csharp hljs" data-lang="csharp">using System;
using Amqp;

namespace Test
{
    public class Program
    {
        public static void Main(string[] args)
        {
            String url = (args.Length &gt; 0) ? args[0] : "amqps://&lt;messaging-route-hostname&gt;:443";
            String address = (args.Length &gt; 1) ? args[1] : "myqueue";

            Connection.DisableServerCertValidation = true;
            Connection connection = new Connection(new Address(url));
            Session session = new Session(connection);
            SenderLink sender = new SenderLink(session, "test-sender", address);

            Message messageSent = new Message("Test Message");
            sender.Send(messageSent);

            ReceiverLink receiver = new ReceiverLink(session, "test-receiver", address);
            Message messageReceived = receiver.Receive(TimeSpan.FromSeconds(2));
            Console.WriteLine(messageReceived.Body);
            receiver.Accept(messageReceived);

            sender.Close();
            receiver.Close();
            session.Close();
            connection.Close();
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quick_start_guides">Appendix A: Quick start guides</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="enmasse-on-openshift">A.1. EnMasse on OpenShift</h4>
<div class="paragraph">
<p>This guide will walk through the process of setting up EnMasse on
OpenShift with clients for sending and receiving messages. The guide will deploy EnMasse in a single
tenant mode and with the <code>none</code> authentication service.</p>
</div>
<div class="sect4">
<h5 id="prerequisites-openshift">Prerequisites</h5>
<div class="paragraph">
<p>To install EnMasse, you need to have the OpenShift client tools. You can download the OpenShift
Origin client from <a href="https://github.com/openshift/origin/releases">OpenShift Origin</a>. EnMasse has
been tested to work with the latest stable release of the OpenShift Origin Client.</p>
</div>
<div class="paragraph">
<p>If you do not have an OpenShift cluster available, see
<a href="https://github.com/minishift/minishift">minishift</a> for an example of how to run a local instance of OpenShift
on your machine.</p>
</div>
<div class="paragraph">
<p>You also need a way to generate certificates. This guide uses <a href="https://www.openssl.org/">OpenSSL</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="installing-openshift">Installing EnMasse</h5>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download one of the releases from <a href="https://github.com/EnMasseProject/enmasse/releases" class="bare">https://github.com/EnMasseProject/enmasse/releases</a> and unpack it.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This guide uses a shell script for deploying EnMasse. Windows users are advised to look at
<a href="#installing-openshift">Installing EnMasse on OpenShift</a>.</p>
</div>
<div class="sect5">
<h6 id="deploying_enmasse">Deploying EnMasse</h6>
<div class="sect6">
<h7 id="using_script">Using script</h7>
<div class="paragraph">
<p>Invoke the deployment script to deploy EnMasse</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./deploy.sh -m "https://localhost:8443" -n enmasse  -t openshift</pre>
</div>
</div>
</div>
<div class="sect6">
<h7 id="using_ansible">Using ansible</h7>
<div class="literalblock">
<div class="content">
<pre class="nowrap">ansible-playbook -i ansible/inventory/singletenant-standard.example ansible/playbooks/openshift/install.yml</pre>
</div>
</div>
<div class="paragraph">
<p>This will create the deployments required for running EnMasse. Starting
up EnMasse will take a while, usually depending on how fast it is able
to download the docker images for the various components. In the
meantime, you can start to create your address configuration.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="configuring-addresses-openshift">Configuring addresses</h5>
<div class="sect6">
<h7 id="address_types_3">Address types</h7>
<div class="paragraph">
<p>EnMasse is configured with a set of addresses that you can use for
messages. Currently, EnMasse supports 4 different address types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Brokered queues</p>
</li>
<li>
<p>Brokered topics (pub/sub)</p>
</li>
<li>
<p>Direct anycast addresses</p>
</li>
<li>
<p>Direct broadcast addresses</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="#address_model">Address Model</a> for details.
EnMasse also comes with a console that you can use for managing
addresses. You can get the console URL by running the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">echo "https://$(oc get route -o jsonpath='{.spec.host}' console)"</pre>
</div>
</div>
<div class="paragraph">
<p>You can also deploy the addressing config using the REST API
API. See the <a href="#configuring-using-restapi">Configuring EnMasse using a REST API</a> for details on the
resources consumed by the API. Here is an example config with all 4 variants that you can save to <code>addresses.json</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">{
  "apiVersion": "enmasse.io/v1",
  "kind": "AddressList",
  "items": [
    {
      "spec": {
        "address": "myqueue",
        "type": "queue",
        "plan": "sharded-queue"
      }
    },
    {
      "spec": {
        "address": "mytopic",
        "type": "topic",
        "plan": "sharded-topic"
      }
    },
    {
      "spec": {
        "address": "myanycast",
        "type": "anycast",
        "plan": "standard-anycast"
      }
    },
    {
      "spec": {
        "address": "mymulticast",
        "type": "multicast",
        "plan": "standard-multicast"
      }
    }
  ]
}</pre>
</div>
</div>
<div class="paragraph">
<p>To deploy this configuration, you must currently use a http client like curl:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">curl -X POST -H "content-type: application/json" --data-binary @addresses.json -k https://$(oc get route -o jsonpath='{.spec.host}' restapi)/apis/enmasse.io/v1alpha1/namespaces/[:namespace]/addressspaces/default/addresses</pre>
</div>
</div>
<div class="paragraph">
<p>This will connect to the address controller REST API and deploy the address config in the 'default' address space.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="sending-and-receiving-messages-openshift">Sending and receiving messages</h5>
<div class="sect6">
<h7 id="connecting_with_amqp">Connecting with AMQP</h7>
<div class="paragraph">
<p>For sending and receiving messages, have a look at an example python
<a href="http://qpid.apache.org/releases/qpid-proton-0.18.0/proton/python/examples/simple_send.py.html">sender</a>
and
<a href="http://qpid.apache.org/releases/qpid-proton-0.18.0/proton/python/examples/simple_recv.py.html">receiver</a>.</p>
</div>
<div class="paragraph">
<p>To send and receive messages, you should connect to the exposed route. To start a receiver, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./simple_recv.py -a "amqps://$(oc get route -o jsonpath='{.spec.host}' messaging):443/myanycast" -m 10</pre>
</div>
</div>
<div class="paragraph">
<p>This will block until it has received 10 messages. To start the sender, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./simple_send.py -a "amqps://$(oc get route -o jsonpath='{.spec.host}' messaging):443/myanycast" -m 10</pre>
</div>
</div>
<div class="paragraph">
<p>The server certificates is not verified in the above examples. To fetch the certificate, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">mkdir -p certs
oc get secret external-certs-messaging -o jsonpath='{.data.tls\.crt}' | base64 -d &gt; certs/tls.crt</pre>
</div>
</div>
<div class="paragraph">
<p>You can modify the client code to use this cert to verify the server connection.</p>
</div>
<div class="paragraph">
<p>Have a look at <a href="#connecting">Connecting to EnMasse</a> for more client examples.</p>
</div>
</div>
<div class="sect6">
<h7 id="mqtt">Connecting using MQTT</h7>
<div class="paragraph">
<p>For sending and receiving messages route, you can use the paho-mqtt client library. To connect,
fetch the server certificate:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">mkdir -p certs
oc get secret external-certs-mqtt  -o jsonpath='{.data.tls\.crt}' | base64 -d &gt; certs/tls.crt</pre>
</div>
</div>
<div class="sect7">
<h8 id="subscriber_client">Subscriber client</h8>
<div class="paragraph">
<p>Save the following to <code>tls_mqtt_recv.py</code> or <a href="https://raw.githubusercontent.com/EnMasseProject/enmasse/master/documentation/design_docs/examples/tls_mqtt_recv.py">download</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>#!/usr/bin/env python

import paho.mqtt.client as mqtt
import ssl
import optparse

# The callback for when the client receives a CONNACK response from the server.
def on_connect(client, userdata, flags, rc):
    print("Connected with result code " + str(rc))

    # Subscribing in on_connect() means that if we lose the connection and
    # reconnect then subscriptions will be renewed.
    client.subscribe(opts.topic, int(opts.qos))

# The callback for when a PUBLISH message is received from the server.
def on_message(client, userdata, msg):
    print(msg.topic + " " + str(msg.payload))

def on_log(client, userdata, level, string):
    print(string)

parser = optparse.OptionParser(usage="usage: %prog [options]",
                               description="Receive messages from the supplied address.")

parser.add_option("-c", "--connectHost", default="localhost",
                  help="host to connect to (default %default)")

parser.add_option("-p", "--portHost", default="8883",
                  help="port to connect to (default %default)")

parser.add_option("-t", "--topic", default="mytopic",
                  help="topic to subscribe to (default %default)")

parser.add_option("-q", "--qos", default="0",
                  help="quality of service (default %default)")

parser.add_option("-s", "--serverCert", default=None,
                  help="server certificate file path (default %default)")

opts, args = parser.parse_args()

client = mqtt.Client("recv")
client.on_connect = on_connect
client.on_message = on_message
client.on_log = on_log

context = ssl.create_default_context()
if opts.serverCert == None:
    context.check_hostname = False
    context.verify_mode = ssl.CERT_NONE
else:
    context.load_verify_locations(cafile=opts.serverCert)

# just useful to activate for decrypting local TLS traffic with Wireshark
#context.set_ciphers("RSA")

client.tls_set_context(context)
client.tls_insecure_set(True)
client.connect(opts.connectHost, opts.portHost, 60)

# Blocking call that processes network traffic, dispatches callbacks and
# handles reconnecting.
# Other loop*() functions are available that give a threaded interface and a
# manual interface.
client.loop_forever()</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to subscribe to a topic (i.e. <code>mytopic</code> from the previous addresses configuration), the
subscriber client can be used in the following way:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./tls_mqtt_recv.py -c "$(oc get route -o jsonpath='{.spec.host}' mqtt)" -p 443 -t mytopic -q 1 -s ./certs/tls.crt</pre>
</div>
</div>
</div>
<div class="sect7">
<h8 id="publisher_client">Publisher client</h8>
<div class="paragraph">
<p>Save the following to <code>tls_mqtt_send.py</code> or <a href="https://raw.githubusercontent.com/EnMasseProject/enmasse/master/documentation/design_docs/examples/tls_mqtt_send.py">download</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>#!/usr/bin/env python

import paho.mqtt.client as mqtt
import ssl
import optparse

# The callback for when the client receives a CONNACK response from the server.
def on_connect(client, userdata, flags, rc):
    print("Connected with result code " + str(rc))

    # Subscribing in on_connect() means that if we lose the connection and
    # reconnect then subscriptions will be renewed.
    client.publish(opts.topic, opts.message, int(opts.qos))

def on_publish(client, userdata, mid):
    print("mid: " + str(mid))
    client.disconnect()

def on_log(client, userdata, level, string):
    print(string)

parser = optparse.OptionParser(usage="usage: %prog [options]",
                               description="Sends messages to the supplied address.")

parser.add_option("-c", "--connectHost", default="localhost",
                  help="host to connect to (default %default)")

parser.add_option("-p", "--portHost", default="8883",
                  help="port to connect to (default %default)")

parser.add_option("-t", "--topic", default="mytopic",
                  help="topic to subscribe to (default %default)")

parser.add_option("-q", "--qos", default="0",
                  help="quality of service (default %default)")

parser.add_option("-s", "--serverCert", default=None,
                  help="server certificate file path (default %default)")

parser.add_option("-m", "--message", default="Hello",
                  help="message to publish (default %default)")

opts, args = parser.parse_args()

client = mqtt.Client("send")
client.on_connect = on_connect
client.on_publish = on_publish
client.on_log = on_log

context = ssl.create_default_context()
if opts.serverCert == None:
    context.check_hostname = False
    context.verify_mode = ssl.CERT_NONE
else:
    context.load_verify_locations(cafile=opts.serverCert)

# just useful to activate for decrypting local TLS traffic with Wireshark
#context.set_ciphers("RSA")

client.tls_set_context(context)
client.tls_insecure_set(True)
client.connect(opts.connectHost, opts.portHost, 60)

# Blocking call that processes network traffic, dispatches callbacks and
# handles reconnecting.
# Other loop*() functions are available that give a threaded interface and a
# manual interface.
client.loop_forever()</code></pre>
</div>
</div>
<div class="paragraph">
<p>To start the publisher, the client can be used in the following way:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./tls_mqtt_send.py -c "$(oc get route -o jsonpath='{.spec.host}' mqtt)" -p 443 -t mytopic -q 1 -s ./certs/tls.crt -m "Hello EnMasse"</pre>
</div>
</div>
<div class="paragraph">
<p>The the publisher publishes the message and disconnects from EnMasse. The message is received by the previous connected subscriber.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="conclusion-openshift">Conclusion</h5>
<div class="paragraph">
<p>We have seen how to setup EnMasse on OpenShift, and how to communicate with it using AMQP and MQTT clients.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enmasse-on-kubernetes">A.2. EnMasse on Kubernetes</h4>
<div class="paragraph">
<p>This guide will walk through the process of setting up EnMasse on a
Kubernetes cluster together with clients for sending and receiving
messages. The guide will deploy EnMasse in a single tenant mode and with the <code>none</code> authentication
service.</p>
</div>
<div class="sect4">
<h5 id="prerequisites-kubernetes">Prerequisites</h5>
<div class="paragraph">
<p>To install EnMasse, you need to have Kubernetes installed. You can use
<a href="https://github.com/kubernetes/minikube">minikube</a> if you want to install EnMasse on your
laptop.</p>
</div>
</div>
<div class="sect4">
<h5 id="installing-kubernetes">Installing</h5>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download one of the releases from <a href="https://github.com/EnMasseProject/enmasse/releases" class="bare">https://github.com/EnMasseProject/enmasse/releases</a> and unpack it.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This guide uses a shell script for deploying EnMasse. Windows users are advised to look at
<a href="#installing-kubernetes">Installing EnMasse on Kubernetes</a>.</p>
</div>
<div class="sect5">
<h6 id="deploying_enmasse_2">Deploying EnMasse</h6>
<div class="sect6">
<h7 id="using_script_2">Using script</h7>
<div class="paragraph">
<p>Invoke the deployment script to deploy EnMasse</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./deploy.sh -m "https://localhost:8443" -n enmasse  -t kubernetes</pre>
</div>
</div>
</div>
<div class="sect6">
<h7 id="using_ansible_2">Using ansible</h7>
<div class="literalblock">
<div class="content">
<pre class="nowrap">ansible-playbook -i ansible/inventory/singletenant-standard.example ansible/playbooks/openshift/install.yml</pre>
</div>
</div>
<div class="paragraph">
<p>This will create the deployments required for running EnMasse. Starting
up EnMasse will take a while, usually depending on how fast it is able
to download the docker images for the various components. In the
meantime, you can start to create your address configuration.</p>
</div>
</div>
</div>
<div class="sect5">
<h6 id="role-based-access-control">Role Based Access Control (RBAC)</h6>
<div class="paragraph">
<p>The Kubernetes deployment script and YAML files currently do not support Role
Based Access Control (RBAC). In Kubernetes clusters which have RBAC enabled, it is
required to additionally create a role binding for the <code>default</code> service account
to the <code>edit</code> role and for the <code>enmasse-admin</code> to the <code>cluster-admin</code> and <code>admin</code> roles:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">kubectl create clusterrolebinding enmasse-admin-cluster-binding --clusterrole=cluster-admin --serviceaccount=enmasse:enmasse-admin
kubectl create rolebinding default-edit-binding --clusterrole=edit --serviceaccount=enmasse:default -n enmasse
kubectl create rolebinding enmasse-admin-admin-binding --clusterrole=admin --serviceaccount=enmasse:enmasse-admin -n enmasse</pre>
</div>
</div>
<div class="paragraph">
<p><em>Note: The <code>cluster-admin</code> role gives the <code>enmasse-admin</code> service account unlimited access to the Kubernetes cluster.</em></p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="configuring-addresses-kubernetes">Configuring addresses</h5>
<div class="sect6">
<h7 id="address_types_4">Address types</h7>
<div class="paragraph">
<p>EnMasse is configured with a set of addresses that you can use for
messages. Currently, EnMasse supports 4 different address types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Brokered queues</p>
</li>
<li>
<p>Brokered topics (pub/sub)</p>
</li>
<li>
<p>Direct anycast addresses</p>
</li>
<li>
<p>Direct broadcast addresses</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="#address_model">Address Model</a> for details.
EnMasse also comes with a console that you can use for managing
addresses. You can get the console URL by running the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">echo "https://$(kubectl get ingress -o jsonpath='{.spec.host}' console)"</pre>
</div>
</div>
<div class="paragraph">
<p>You can also deploy the addressing config using the REST API
API. See the <a href="#configuring-using-restapi">Configuring EnMasse using a REST API</a> for details on the
resources consumed by the API. Here is an example config with all 4 variants that you can save to <code>addresses.json</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">{
  "apiVersion": "enmasse.io/v1",
  "kind": "AddressList",
  "items": [
    {
      "spec": {
        "address": "myqueue",
        "type": "queue",
        "plan": "sharded-queue"
      }
    },
    {
      "spec": {
        "address": "mytopic",
        "type": "topic",
        "plan": "sharded-topic"
      }
    },
    {
      "spec": {
        "address": "myanycast",
        "type": "anycast",
        "plan": "standard-anycast"
      }
    },
    {
      "spec": {
        "address": "mymulticast",
        "type": "multicast",
        "plan": "standard-multicast"
      }
    }
  ]
}</pre>
</div>
</div>
<div class="paragraph">
<p>To deploy this configuration, you must currently use a http client like curl:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">curl -X POST -H "content-type: application/json" --data-binary @addresses.json -k https://$(kubectl get ingress -o jsonpath='{.spec.host}' restapi)/apis/enmasse.io/v1alpha1/namespaces/[:namespace]/addressspaces/default/addresses</pre>
</div>
</div>
<div class="paragraph">
<p>This will connect to the address controller REST API and deploy the address config in the 'default' address space.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="sending-and-receiving-messages-kubernetes">Sending and receiving messages</h5>
<div class="sect6">
<h7 id="connecting_with_amqp_2">Connecting with AMQP</h7>
<div class="paragraph">
<p>For sending and receiving messages, have a look at an example python
<a href="http://qpid.apache.org/releases/qpid-proton-0.18.0/proton/python/examples/simple_send.py.html">sender</a>
and
<a href="http://qpid.apache.org/releases/qpid-proton-0.18.0/proton/python/examples/simple_recv.py.html">receiver</a>.</p>
</div>
<div class="paragraph">
<p>To send and receive messages, you should connect to the exposed route. To start a receiver, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./simple_recv.py -a "amqps://$(kubectl get ingress -o jsonpath='{.spec.host}' messaging):443/myanycast" -m 10</pre>
</div>
</div>
<div class="paragraph">
<p>This will block until it has received 10 messages. To start the sender, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./simple_send.py -a "amqps://$(kubectl get ingress -o jsonpath='{.spec.host}' messaging):443/myanycast" -m 10</pre>
</div>
</div>
<div class="paragraph">
<p>The server certificates is not verified in the above examples. To fetch the certificate, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">mkdir -p certs
kubectl get secret external-certs-messaging -o jsonpath='{.data.tls\.crt}' | base64 -d &gt; certs/tls.crt</pre>
</div>
</div>
<div class="paragraph">
<p>You can modify the client code to use this cert to verify the server connection.</p>
</div>
<div class="paragraph">
<p>Have a look at <a href="#connecting">Connecting to EnMasse</a> for more client examples.</p>
</div>
</div>
<div class="sect6">
<h7 id="mqtt">Connecting using MQTT</h7>
<div class="paragraph">
<p>For sending and receiving messages route, you can use the paho-mqtt client library. To connect,
fetch the server certificate:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">mkdir -p certs
kubectl get secret external-certs-mqtt  -o jsonpath='{.data.tls\.crt}' | base64 -d &gt; certs/tls.crt</pre>
</div>
</div>
<div class="sect7">
<h8 id="subscriber_client_2">Subscriber client</h8>
<div class="paragraph">
<p>Save the following to <code>tls_mqtt_recv.py</code> or <a href="https://raw.githubusercontent.com/EnMasseProject/enmasse/master/documentation/design_docs/examples/tls_mqtt_recv.py">download</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>#!/usr/bin/env python

import paho.mqtt.client as mqtt
import ssl
import optparse

# The callback for when the client receives a CONNACK response from the server.
def on_connect(client, userdata, flags, rc):
    print("Connected with result code " + str(rc))

    # Subscribing in on_connect() means that if we lose the connection and
    # reconnect then subscriptions will be renewed.
    client.subscribe(opts.topic, int(opts.qos))

# The callback for when a PUBLISH message is received from the server.
def on_message(client, userdata, msg):
    print(msg.topic + " " + str(msg.payload))

def on_log(client, userdata, level, string):
    print(string)

parser = optparse.OptionParser(usage="usage: %prog [options]",
                               description="Receive messages from the supplied address.")

parser.add_option("-c", "--connectHost", default="localhost",
                  help="host to connect to (default %default)")

parser.add_option("-p", "--portHost", default="8883",
                  help="port to connect to (default %default)")

parser.add_option("-t", "--topic", default="mytopic",
                  help="topic to subscribe to (default %default)")

parser.add_option("-q", "--qos", default="0",
                  help="quality of service (default %default)")

parser.add_option("-s", "--serverCert", default=None,
                  help="server certificate file path (default %default)")

opts, args = parser.parse_args()

client = mqtt.Client("recv")
client.on_connect = on_connect
client.on_message = on_message
client.on_log = on_log

context = ssl.create_default_context()
if opts.serverCert == None:
    context.check_hostname = False
    context.verify_mode = ssl.CERT_NONE
else:
    context.load_verify_locations(cafile=opts.serverCert)

# just useful to activate for decrypting local TLS traffic with Wireshark
#context.set_ciphers("RSA")

client.tls_set_context(context)
client.tls_insecure_set(True)
client.connect(opts.connectHost, opts.portHost, 60)

# Blocking call that processes network traffic, dispatches callbacks and
# handles reconnecting.
# Other loop*() functions are available that give a threaded interface and a
# manual interface.
client.loop_forever()</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to subscribe to a topic (i.e. <code>mytopic</code> from the previous addresses configuration), the
subscriber client can be used in the following way:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./tls_mqtt_recv.py -c "$(oc get route -o jsonpath='{.spec.host}' mqtt)" -p 443 -t mytopic -q 1 -s ./certs/tls.crt</pre>
</div>
</div>
</div>
<div class="sect7">
<h8 id="publisher_client_2">Publisher client</h8>
<div class="paragraph">
<p>Save the following to <code>tls_mqtt_send.py</code> or <a href="https://raw.githubusercontent.com/EnMasseProject/enmasse/master/documentation/design_docs/examples/tls_mqtt_send.py">download</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>#!/usr/bin/env python

import paho.mqtt.client as mqtt
import ssl
import optparse

# The callback for when the client receives a CONNACK response from the server.
def on_connect(client, userdata, flags, rc):
    print("Connected with result code " + str(rc))

    # Subscribing in on_connect() means that if we lose the connection and
    # reconnect then subscriptions will be renewed.
    client.publish(opts.topic, opts.message, int(opts.qos))

def on_publish(client, userdata, mid):
    print("mid: " + str(mid))
    client.disconnect()

def on_log(client, userdata, level, string):
    print(string)

parser = optparse.OptionParser(usage="usage: %prog [options]",
                               description="Sends messages to the supplied address.")

parser.add_option("-c", "--connectHost", default="localhost",
                  help="host to connect to (default %default)")

parser.add_option("-p", "--portHost", default="8883",
                  help="port to connect to (default %default)")

parser.add_option("-t", "--topic", default="mytopic",
                  help="topic to subscribe to (default %default)")

parser.add_option("-q", "--qos", default="0",
                  help="quality of service (default %default)")

parser.add_option("-s", "--serverCert", default=None,
                  help="server certificate file path (default %default)")

parser.add_option("-m", "--message", default="Hello",
                  help="message to publish (default %default)")

opts, args = parser.parse_args()

client = mqtt.Client("send")
client.on_connect = on_connect
client.on_publish = on_publish
client.on_log = on_log

context = ssl.create_default_context()
if opts.serverCert == None:
    context.check_hostname = False
    context.verify_mode = ssl.CERT_NONE
else:
    context.load_verify_locations(cafile=opts.serverCert)

# just useful to activate for decrypting local TLS traffic with Wireshark
#context.set_ciphers("RSA")

client.tls_set_context(context)
client.tls_insecure_set(True)
client.connect(opts.connectHost, opts.portHost, 60)

# Blocking call that processes network traffic, dispatches callbacks and
# handles reconnecting.
# Other loop*() functions are available that give a threaded interface and a
# manual interface.
client.loop_forever()</code></pre>
</div>
</div>
<div class="paragraph">
<p>To start the publisher, the client can be used in the following way:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./tls_mqtt_send.py -c "$(kubectl get ingress -o jsonpath='{.spec.host}' mqtt)" -p 443 -t mytopic -q 1 -s ./certs/tls.crt -m "Hello EnMasse"</pre>
</div>
</div>
<div class="paragraph">
<p>The the publisher publishes the message and disconnects from EnMasse. The message is received by the previous connected subscriber.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="conclusion-kubernetes">Conclusion</h5>
<div class="paragraph">
<p>We have seen how to setup a messaging service in Kubernetes, and how to
communicate with it using python example AMQP clients.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-enmasse-on-aws">A.3. Setting up EnMasse on AWS</h4>
<div class="paragraph">
<p>This guide walks you through setting up EnMasse on an AWS EC2 instance.
This is not even very specific to AWS, so you can probably modify the
configuration to fit Microsoft Azure or even Google GCE.</p>
</div>
<div class="paragraph">
<p>The end result from this guide is an instance of EnMasse suitable for
development and/or experimentation, and should not be considered a
production ready setup. For instance, no persistence is configured, so
neither messages in brokers nor state in other components like hawkular
are persisted.</p>
</div>
<div class="sect4">
<h5 id="prerequisites-aws">Prerequisites</h5>
<div class="paragraph">
<p>First, you must have created an <a href="https://aws.amazon.com/ec2/">EC2
instance</a>. EnMasse runs on OpenShift and Kubernetes, but this post uses
OpenShift purely for convenience. Have a look at the
<a href="https://docs.openshift.org/latest/install_config/install/prerequisites.html">OpenShift
prerequisites</a> for the required hardware configuration. The installation
will be done using <a href="https://www.ansible.com">Ansible</a>, so make sure
Ansible is installed on laptop or workstation.</p>
</div>
<div class="sect5">
<h6 id="configure-ansible-to-handle-passwordless-sudo">Configure Ansible to handle passwordless sudo</h6>
<div class="paragraph">
<p>For EC2 instance, the default is a passwordless sudo, and Ansible
(2.3.0.0 at the time of writing) requires a minor configuration
modification to deal with that. On the host you will be running ansible
from, edit /etc/ansible/ansible.cfg, and make sure that the <code>sudo_flags</code>
parameter is set to <code>-H -S</code> (remove the <code>-n</code>).</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="setting-up-openshift-aws">Setting up OpenShift</h5>
<div class="paragraph">
<p>Once Ansible is setup, installing OpenShift is easy. First, an inventory
file with the configuration and the hosts must be created. Save the
following configuration to a file, i.e. <code>ansible-inventory.txt</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">[OSEv3:children]
masters
nodes

[OSEv3:vars]
deployment_type=origin
openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider', 'filename': '/etc/origin/master/htpasswd'}]
openshift_master_default_subdomain=&lt;yourdomain&gt;
openshift_public_hostname=openshift.&lt;yourdomain&gt;
openshift_hostname=&lt;ec2 instance hostname&gt;
openshift_metrics_hawkular_hostname=hawkular-metrics.&lt;yourdomain&gt;

openshift_install_examples=false
openshift_hosted_metrics_deploy=true

[masters]
&lt;ec2 host&gt; openshift_scheduleable=true openshift_node_labels="{'region': 'infra'}"

[nodes]
&lt;ec2 host&gt; openshift_scheduleable=true openshift_node_labels="{'region': 'infra'}"</pre>
</div>
</div>
<div class="paragraph">
<p>This will configure OpenShift so that it can only be accessed by users
defined in <code>/etc/origin/master/htpasswd</code>.</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t have a domain with wildcard support, you can replace with
.nip.io, and you will have a working setup without having a specialized
domain.</p>
</div>
<div class="paragraph">
<p>You can now download the ansible playbooks. The simplest way to do this
is to just clone the git repository:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">git clone https://github.com/openshift/openshift-ansible.git</pre>
</div>
</div>
<div class="paragraph">
<p>To install OpenShift, run the playbook like this</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">ansible-playbook -u ec2-user -b --private-key=&lt;keyfile&gt;.pem -i ansible-inventory.txt openshift-ansible/playbooks/byo/openshift-cluster/config.yml</pre>
</div>
</div>
<div class="paragraph">
<p>This command will take a while to finish.</p>
</div>
</div>
<div class="sect4">
<h5 id="creating-a-user">Creating a user</h5>
<div class="paragraph">
<p>To be able to deploy EnMasse in OpenShift, a user must be created. Log
on to your EC2 instance, and create the user:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">htpasswd -c /etc/origin/master/htpasswd &lt;myuser&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>&lt;myuser&gt;</code> is the username you want to use. The command will
prompt you for a password that you will later use when deploying
EnMasse.</p>
</div>
</div>
<div class="sect4">
<h5 id="installing_enmasse">Installing EnMasse</h5>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Download one of the releases from <a href="https://github.com/EnMasseProject/enmasse/releases" class="bare">https://github.com/EnMasseProject/enmasse/releases</a> and unpack it.</p>
</li>
</ol>
</div>
<div class="sect5">
<h6 id="deploying_enmasse_3">Deploying EnMasse</h6>
<div class="sect6">
<h7 id="using_script_3">Using script</h7>
<div class="paragraph">
<p>Invoke the deployment script to deploy EnMasse</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./deploy.sh -m "https://openshift.yourdomain:8443" -n enmasse -u myuser -t openshift</pre>
</div>
</div>
</div>
<div class="sect6">
<h7 id="using_ansible_3">Using ansible</h7>
<div class="literalblock">
<div class="content">
<pre class="nowrap">ansible-playbook -i ansible/inventory/singletenant-standard.example ansible/playbooks/openshift/install.yml</pre>
</div>
</div>
<div class="paragraph">
<p>This will create the deployments required for running EnMasse. Starting
up EnMasse will take a while, usually depending on how fast it is able
to download the docker images for the various components. In the
meantime, you can start to create your address configuration.
followed the above guide, you should have EnMasse deployed. The endpoints will be:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>* AMQP: `messaging-enmasse.&lt;yourdomain&gt;`
* MQTT: `mqtt-enmasse.&lt;yourdomain&gt;`
* Console: `console-enmasse.&lt;yourdomain&gt;`</pre>
</div>
</div>
<div class="paragraph">
<p>The console can be used for creating and deleting addresses.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="sending-and-receiving-messages-aws">Sending and receiving messages</h5>
<div class="sect6">
<h7 id="connecting_with_amqp_3">Connecting with AMQP</h7>
<div class="paragraph">
<p>For sending and receiving messages, have a look at an example python
<a href="http://qpid.apache.org/releases/qpid-proton-0.18.0/proton/python/examples/simple_send.py.html">sender</a>
and
<a href="http://qpid.apache.org/releases/qpid-proton-0.18.0/proton/python/examples/simple_recv.py.html">receiver</a>.</p>
</div>
<div class="paragraph">
<p>To send and receive messages, you should connect to the exposed route. To start a receiver, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./simple_recv.py -a "amqps://$(oc get route -o jsonpath='{.spec.host}' messaging):443/myanycast" -m 10</pre>
</div>
</div>
<div class="paragraph">
<p>This will block until it has received 10 messages. To start the sender, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./simple_send.py -a "amqps://$(oc get route -o jsonpath='{.spec.host}' messaging):443/myanycast" -m 10</pre>
</div>
</div>
<div class="paragraph">
<p>The server certificates is not verified in the above examples. To fetch the certificate, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">mkdir -p certs
oc get secret external-certs-messaging -o jsonpath='{.data.tls\.crt}' | base64 -d &gt; certs/tls.crt</pre>
</div>
</div>
<div class="paragraph">
<p>You can modify the client code to use this cert to verify the server connection.</p>
</div>
<div class="paragraph">
<p>Have a look at <a href="#connecting">Connecting to EnMasse</a> for more client examples.</p>
</div>
</div>
<div class="sect6">
<h7 id="mqtt">Connecting using MQTT</h7>
<div class="paragraph">
<p>For sending and receiving messages route, you can use the paho-mqtt client library. To connect,
fetch the server certificate:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">mkdir -p certs
oc get secret external-certs-mqtt  -o jsonpath='{.data.tls\.crt}' | base64 -d &gt; certs/tls.crt</pre>
</div>
</div>
<div class="sect7">
<h8 id="subscriber_client_3">Subscriber client</h8>
<div class="paragraph">
<p>Save the following to <code>tls_mqtt_recv.py</code> or <a href="https://raw.githubusercontent.com/EnMasseProject/enmasse/master/documentation/design_docs/examples/tls_mqtt_recv.py">download</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>#!/usr/bin/env python

import paho.mqtt.client as mqtt
import ssl
import optparse

# The callback for when the client receives a CONNACK response from the server.
def on_connect(client, userdata, flags, rc):
    print("Connected with result code " + str(rc))

    # Subscribing in on_connect() means that if we lose the connection and
    # reconnect then subscriptions will be renewed.
    client.subscribe(opts.topic, int(opts.qos))

# The callback for when a PUBLISH message is received from the server.
def on_message(client, userdata, msg):
    print(msg.topic + " " + str(msg.payload))

def on_log(client, userdata, level, string):
    print(string)

parser = optparse.OptionParser(usage="usage: %prog [options]",
                               description="Receive messages from the supplied address.")

parser.add_option("-c", "--connectHost", default="localhost",
                  help="host to connect to (default %default)")

parser.add_option("-p", "--portHost", default="8883",
                  help="port to connect to (default %default)")

parser.add_option("-t", "--topic", default="mytopic",
                  help="topic to subscribe to (default %default)")

parser.add_option("-q", "--qos", default="0",
                  help="quality of service (default %default)")

parser.add_option("-s", "--serverCert", default=None,
                  help="server certificate file path (default %default)")

opts, args = parser.parse_args()

client = mqtt.Client("recv")
client.on_connect = on_connect
client.on_message = on_message
client.on_log = on_log

context = ssl.create_default_context()
if opts.serverCert == None:
    context.check_hostname = False
    context.verify_mode = ssl.CERT_NONE
else:
    context.load_verify_locations(cafile=opts.serverCert)

# just useful to activate for decrypting local TLS traffic with Wireshark
#context.set_ciphers("RSA")

client.tls_set_context(context)
client.tls_insecure_set(True)
client.connect(opts.connectHost, opts.portHost, 60)

# Blocking call that processes network traffic, dispatches callbacks and
# handles reconnecting.
# Other loop*() functions are available that give a threaded interface and a
# manual interface.
client.loop_forever()</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to subscribe to a topic (i.e. <code>mytopic</code> from the previous addresses configuration), the
subscriber client can be used in the following way:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./tls_mqtt_recv.py -c "$(oc get route -o jsonpath='{.spec.host}' mqtt)" -p 443 -t mytopic -q 1 -s ./certs/tls.crt</pre>
</div>
</div>
</div>
<div class="sect7">
<h8 id="publisher_client_3">Publisher client</h8>
<div class="paragraph">
<p>Save the following to <code>tls_mqtt_send.py</code> or <a href="https://raw.githubusercontent.com/EnMasseProject/enmasse/master/documentation/design_docs/examples/tls_mqtt_send.py">download</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>#!/usr/bin/env python

import paho.mqtt.client as mqtt
import ssl
import optparse

# The callback for when the client receives a CONNACK response from the server.
def on_connect(client, userdata, flags, rc):
    print("Connected with result code " + str(rc))

    # Subscribing in on_connect() means that if we lose the connection and
    # reconnect then subscriptions will be renewed.
    client.publish(opts.topic, opts.message, int(opts.qos))

def on_publish(client, userdata, mid):
    print("mid: " + str(mid))
    client.disconnect()

def on_log(client, userdata, level, string):
    print(string)

parser = optparse.OptionParser(usage="usage: %prog [options]",
                               description="Sends messages to the supplied address.")

parser.add_option("-c", "--connectHost", default="localhost",
                  help="host to connect to (default %default)")

parser.add_option("-p", "--portHost", default="8883",
                  help="port to connect to (default %default)")

parser.add_option("-t", "--topic", default="mytopic",
                  help="topic to subscribe to (default %default)")

parser.add_option("-q", "--qos", default="0",
                  help="quality of service (default %default)")

parser.add_option("-s", "--serverCert", default=None,
                  help="server certificate file path (default %default)")

parser.add_option("-m", "--message", default="Hello",
                  help="message to publish (default %default)")

opts, args = parser.parse_args()

client = mqtt.Client("send")
client.on_connect = on_connect
client.on_publish = on_publish
client.on_log = on_log

context = ssl.create_default_context()
if opts.serverCert == None:
    context.check_hostname = False
    context.verify_mode = ssl.CERT_NONE
else:
    context.load_verify_locations(cafile=opts.serverCert)

# just useful to activate for decrypting local TLS traffic with Wireshark
#context.set_ciphers("RSA")

client.tls_set_context(context)
client.tls_insecure_set(True)
client.connect(opts.connectHost, opts.portHost, 60)

# Blocking call that processes network traffic, dispatches callbacks and
# handles reconnecting.
# Other loop*() functions are available that give a threaded interface and a
# manual interface.
client.loop_forever()</code></pre>
</div>
</div>
<div class="paragraph">
<p>To start the publisher, the client can be used in the following way:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">./tls_mqtt_send.py -c "$(oc get route -o jsonpath='{.spec.host}' mqtt)" -p 443 -t mytopic -q 1 -s ./certs/tls.crt -m "Hello EnMasse"</pre>
</div>
</div>
<div class="paragraph">
<p>The the publisher publishes the message and disconnects from EnMasse. The message is received by the previous connected subscriber.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="optional-setting-up-metrics">(Optional) Setting up metrics</h5>
<div class="paragraph">
<p>The process for setting up grafana is a bit more involved, but it gives
you a nice overview of whats going on over time. First of all, I like to
setup everything metric-related in the <code>openshift-infra</code> project. To do
that, you must first give your user permission sufficient privileges. In
this setup, since it&#8217;s not a production setup, I grant cluster-admin
privileges for simplicity (requires logging into the ec2 instance):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>oc adm --config /etc/origin/master/admin.kubeconfig policy add-cluster-role-to-user cluster-admin developer</pre>
</div>
</div>
<div class="paragraph">
<p>With this in place, you can setup the
<a href="https://github.com/hawkular/hawkular-openshift-agent">hawkular-openshift-agent</a>
which pulls metrics from routers and brokers:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>oc create -f https://raw.githubusercontent.com/openshift/origin-metrics/master/hawkular-agent/hawkular-openshift-agent-configmap.yaml -n openshift-infra
oc process -f https://raw.githubusercontent.com/openshift/origin-metrics/master/hawkular-agent/hawkular-openshift-agent.yaml IMAGE_VERSION=1.4.0.Final | oc create -n openshift-infra -f -
oc adm policy add-cluster-role-to-user hawkular-openshift-agent system:serviceaccount:openshift-infra:hawkular-openshift-agent</pre>
</div>
</div>
<div class="paragraph">
<p>If everything is setup correctly, you can then deploy
<a href="https://grafana.com/">Grafana</a>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>oc process -f https://raw.githubusercontent.com/hawkular/hawkular-grafana-datasource/master/openshift/openshift-template-ephemeral.yaml -n openshift-infra | oc create -n openshift-infra -f -</pre>
</div>
</div>
<div class="paragraph">
<p>After some time, Grafana should become available at
<code>oc get route -n openshift-infra -o jsonpath='{.spec.host}' hawkular-grafana</code>.
The default username and password is <code>admin/admin</code>. E</p>
</div>
</div>
<div class="sect4">
<h5 id="summary">Summary</h5>
<div class="paragraph">
<p>In this post, you&#8217;ve seen how to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deploy OpenShift on an AWS EC2 instance</p>
</li>
<li>
<p>Deploy EnMasse cloud messaging</p>
</li>
<li>
<p>Deploy Grafana for monitoring</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rest_api_reference">Appendix B: REST API Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="enmasse">B.1. EnMasse</h3>
<div class="sect3">
<h4 id="_overview">B.1.1. Overview</h4>
<div class="paragraph">
<p>This is the EnMasse API specification.</p>
</div>
<div class="sect4">
<h5 id="version_information">Version information</h5>
<div class="paragraph">
<p><em>Version</em> : 1.0.0</p>
</div>
</div>
<div class="sect4">
<h5 id="uri_scheme">URI scheme</h5>
<div class="paragraph">
<p><em>Schemes</em> : HTTPS</p>
</div>
</div>
<div class="sect4">
<h5 id="tags">Tags</h5>
<div class="ulist">
<ul>
<li>
<p>addresses : Operating on Addresses.</p>
</li>
<li>
<p>addressspaces : Operate on AddressSpaces</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="external_docs">External Docs</h5>
<div class="paragraph">
<p><em>Description</em> : Find out more about EnMasse<br>
<em>URL</em> : <a href="http://enmasse.io" class="bare">http://enmasse.io</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_paths">B.1.2. Paths</h4>
<div class="sect4">
<h5 id="_createenmassev1alpha1namespacedaddress">POST /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addresses</h5>
<div class="sect5">
<h6 id="description">Description</h6>
<div class="paragraph">
<p>create an Address</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Body</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>body</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>201</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Created</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="consumes">Consumes</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="produces">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_2">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_listenmassev1alpha1namespacedaddress">GET /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addresses</h5>
<div class="sect5">
<h6 id="description_2">Description</h6>
<div class="paragraph">
<p>list objects of kind Address</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_2">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Query</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>labelSelector</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A selector to restrict the list of returned objects by their labels. Defaults to everything.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_2">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addresslist">io.enmasse.v1alpha1.AddressList</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_2">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_3">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_readenmassev1alpha1namespacedaddress">GET /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addresses/{name}</h5>
<div class="sect5">
<h6 id="description_3">Description</h6>
<div class="paragraph">
<p>read the specified Address</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_3">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of Address to read</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_3">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="consumes_2">Consumes</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="produces_3">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_4">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_replaceenmassev1alpha1namespacedaddress">PUT /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addresses/{name}</h5>
<div class="sect5">
<h6 id="description_4">Description</h6>
<div class="paragraph">
<p>replace the specified Address</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_4">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of Address to replace</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Body</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>body</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_4">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>201</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Created</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_4">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_5">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_deleteenmassev1alpha1namespacedaddress">DELETE /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addresses/{name}</h5>
<div class="sect5">
<h6 id="description_5">Description</h6>
<div class="paragraph">
<p>delete an Address</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_5">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of Address to delete</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_5">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_status">Status</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_5">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_6">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_createenmassev1alpha1namespacedaddressspace">POST /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces</h5>
<div class="sect5">
<h6 id="description_6">Description</h6>
<div class="paragraph">
<p>create an AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_6">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Body</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>body</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_6">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>201</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Created</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="consumes_3">Consumes</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="produces_6">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_7">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspaces</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_listenmassev1alpha1namespacedaddressspace">GET /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces</h5>
<div class="sect5">
<h6 id="description_7">Description</h6>
<div class="paragraph">
<p>list objects of kind AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_7">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Query</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>labelSelector</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>A selector to restrict the list of returned objects by their labels. Defaults to everything.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_7">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspacelist">io.enmasse.v1alpha1.AddressSpaceList</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_7">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_8">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspaces</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_createenmassev1alpha1addressspaceaddresses">POST /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces/{addressSpace}/addresses</h5>
<div class="sect5">
<h6 id="description_8">Description</h6>
<div class="paragraph">
<p>create Addresses in an AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_8">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>addressSpace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of AddressSpace</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Body</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>body</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>AddressList object</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addresslist">io.enmasse.v1alpha1.AddressList</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_8">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_status">Status</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="consumes_4">Consumes</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="produces_8">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_9">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspace_addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_listenmassev1alpha1namespacedaddressspaceaddress">GET /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces/{addressSpace}/addresses</h5>
<div class="sect5">
<h6 id="description_9">Description</h6>
<div class="paragraph">
<p>list objects of kind Address in AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_9">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>addressSpace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of AddressSpace</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_9">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addresslist">io.enmasse.v1alpha1.AddressList</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_9">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_10">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspace_addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_readenmassev1alpha1namespacedaddressspaceaddress">GET /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces/{addressSpace}/addresses/{address}</h5>
<div class="sect5">
<h6 id="description_10">Description</h6>
<div class="paragraph">
<p>read the specified Address in AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_10">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>address</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of Address</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>addressSpace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of AddressSpace</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_10">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_10">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_11">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspace_addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_replaceenmassev1alpha1namespacedaddressspaceaddress">PUT /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces/{addressSpace}/addresses/{address}</h5>
<div class="sect5">
<h6 id="description_11">Description</h6>
<div class="paragraph">
<p>replace Address in an AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_11">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>address</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of address</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>addressSpace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of AddressSpace</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Body</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>body</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Address object</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_11">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>201</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Created</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="consumes_5">Consumes</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="produces_11">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_12">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspace_addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_deleteenmassev1alpha1namespacedaddressspaceaddress">DELETE /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces/{addressSpace}/addresses/{address}</h5>
<div class="sect5">
<h6 id="description_12">Description</h6>
<div class="paragraph">
<p>delete an Address in AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_12">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>address</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of Address</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>addressSpace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of AddressSpace</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_12">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_status">Status</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_12">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_13">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspace_addresses</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_readenmassev1alpha1namespacedaddressspace">GET /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces/{name}</h5>
<div class="sect5">
<h6 id="description_13">Description</h6>
<div class="paragraph">
<p>read the specified AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_13">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of AddressSpace to read</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_13">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="consumes_6">Consumes</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="produces_13">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_14">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspaces</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_replaceenmassev1alpha1namespacedaddressspace">PUT /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces/{name}</h5>
<div class="sect5">
<h6 id="description_14">Description</h6>
<div class="paragraph">
<p>replace the specified AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_14">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of AddressSpace to replace</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Body</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>body</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_14">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>201</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Created</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_14">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_15">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspaces</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_deleteenmassev1alpha1namespacedaddressspace">DELETE /apis/enmasse.io/v1alpha1/namespaces/{namespace}/addressspaces/{name}</h5>
<div class="sect5">
<h6 id="description_15">Description</h6>
<div class="paragraph">
<p>delete an AddressSpace</p>
</div>
</div>
<div class="sect5">
<h6 id="parameters_15">Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Type</th>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Name of AddressSpace to delete</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Path</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object name and auth scope, such as for teams and projects</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="responses_15">Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 70%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">HTTP Code</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>200</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>OK</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_status">Status</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>401</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Unauthorized</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>404</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Not found</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>No Content</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="produces_15">Produces</h6>
<div class="ulist">
<ul>
<li>
<p><code>application/json</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="tags_16">Tags</h6>
<div class="ulist">
<ul>
<li>
<p>addressspaces</p>
</li>
<li>
<p>enmasse_v1alpha1</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_definitions">B.1.3. Definitions</h4>
<div class="sect4">
<h5 id="_objectmeta">ObjectMeta</h5>
<div class="paragraph">
<p>ObjectMeta is metadata that all persisted resources must have, which includes all objects users must create.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>namespace</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_status">Status</h5>
<div class="paragraph">
<p>Status is a return value for calls that don&#8217;t return other objects.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>code</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>Suggested HTTP return code for this status, 0 if not set.</p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer (int32)</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>apiVersion</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (enmasse.io/v1alpha1)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>kind</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (Address)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>metadata</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_objectmeta">ObjectMeta</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>spec</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspec">io.enmasse.v1alpha1.AddressSpec</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>status</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressstatus">io.enmasse.v1alpha1.AddressStatus</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addresslist">io.enmasse.v1alpha1.AddressList</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>apiVersion</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Default</strong> : <code>"enmasse.io/v1alpha1"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (enmasse.io/v1alpha1)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>items</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; <a href="#_io_enmasse_v1alpha1_address">io.enmasse.v1alpha1.Address</a> &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>kind</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (AddressList)</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>apiVersion</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (enmasse.io/v1alpha1)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>kind</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (AddressSpace)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>metadata</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_objectmeta">ObjectMeta</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>spec</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspacespec">io.enmasse.v1alpha1.AddressSpaceSpec</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>status</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspacestatus">io.enmasse.v1alpha1.AddressSpaceStatus</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addressspacelist">io.enmasse.v1alpha1.AddressSpaceList</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 61.1111%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Description</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>apiVersion</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>Default</strong> : <code>"enmasse.io/v1alpha1"</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (enmasse.io/v1alpha1)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>items</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; <a href="#_io_enmasse_v1alpha1_addressspace">io.enmasse.v1alpha1.AddressSpace</a> &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>kind</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (AddressSpaceList)</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addressspacespec">io.enmasse.v1alpha1.AddressSpaceSpec</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>authenticationService</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspacespec_authenticationservice">authenticationService</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>endpoints</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; <a href="#_io_enmasse_v1alpha1_addressspacespec_endpoints">endpoints</a> &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>plan</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>type</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspacetype">io.enmasse.v1alpha1.AddressSpaceType</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="_io_enmasse_v1alpha1_addressspacespec_authenticationservice" class="paragraph">
<p><strong>authenticationService</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>details</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>object</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>type</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="_io_enmasse_v1alpha1_addressspacespec_endpoints" class="paragraph">
<p><strong>endpoints</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>cert</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addressspacespec_cert">cert</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>host</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>service</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>servicePort</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="_io_enmasse_v1alpha1_addressspacespec_cert" class="paragraph">
<p><strong>cert</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>provider</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>secretName</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addressspacestatus">io.enmasse.v1alpha1.AddressSpaceStatus</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>endpointStatuses</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; <a href="#_io_enmasse_v1alpha1_addressspacestatus_endpointstatuses">endpointStatuses</a> &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>isReady</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>messages</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; string &gt; array</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="_io_enmasse_v1alpha1_addressspacestatus_endpointstatuses" class="paragraph">
<p><strong>endpointStatuses</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>host</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>port</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>serviceHost</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>servicePorts</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; <a href="#_io_enmasse_v1alpha1_addressspacestatus_serviceports">servicePorts</a> &gt; array</p>
</div></div></td>
</tr>
</tbody>
</table>
<div id="_io_enmasse_v1alpha1_addressspacestatus_serviceports" class="paragraph">
<p><strong>servicePorts</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>name</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>port</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>integer</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addressspacetype">io.enmasse.v1alpha1.AddressSpaceType</h5>
<div class="paragraph">
<p>AddressSpaceType is the type of address space (standard, brokered). Each type supports different types of addresses and semantics for those types.</p>
</div>
<div class="paragraph">
<p><em>Type</em> : enum (standard, brokered)</p>
</div>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addressspec">io.enmasse.v1alpha1.AddressSpec</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>address</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>plan</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>string</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>type</strong><br>
<em>required</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><a href="#_io_enmasse_v1alpha1_addresstype">io.enmasse.v1alpha1.AddressType</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addressstatus">io.enmasse.v1alpha1.AddressStatus</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 42.8571%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle">Name</th>
<th class="tableblock halign-left valign-middle">Schema</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>isReady</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>boolean</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>messages</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>&lt; string &gt; array</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><strong>phase</strong><br>
<em>optional</em></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p>enum (Pending, Configuring, Active, Failed, Terminating)</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_io_enmasse_v1alpha1_addresstype">io.enmasse.v1alpha1.AddressType</h5>
<div class="paragraph">
<p>Type of address (queue, topic, ). Each address type support different kinds of messaging semantics.</p>
</div>
<div class="paragraph">
<p><em>Type</em> : enum (queue, topic, anycast, multicast)</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-06-28 07:18:58 UTC
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>